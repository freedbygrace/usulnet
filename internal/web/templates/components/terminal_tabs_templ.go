// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
)

// TerminalTabConfig represents configuration for a terminal tab.
type TerminalTabConfig struct {
	ID       string // Tab ID
	Name     string // Display name
	Type     string // "ssh", "container", "host"
	TargetID string // Connection ID or Container ID
	Icon     string // FontAwesome icon class
	Active   bool
}

// TerminalTabsData is the data for the terminal tabs component.
type TerminalTabsData struct {
	Tabs        []TerminalTabConfig
	BackURL     string
	BackLabel   string
	AllowNewTab bool
	NewTabURL   string // URL for the "add tab" modal or picker
}

// TerminalTabs renders a multi-tab terminal interface.
func TerminalTabs(data TerminalTabsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div x-data=\"multiTabTerminal()\" class=\"h-full flex flex-col\"><!-- Tab Bar --><div class=\"flex items-center bg-dark-800 border-b border-dark-700 px-2\"><!-- Back Button --><a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 templ.SafeURL
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(data.BackURL))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 36, Col: 38}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" class=\"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-white transition-colors\"><i class=\"fas fa-arrow-left text-sm\"></i> <span class=\"text-sm\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.BackLabel)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 40, Col: 42}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</span></a><div class=\"h-6 w-px bg-dark-600 mx-2\"></div><!-- Tabs --><div class=\"flex items-center gap-1 overflow-x-auto flex-1 py-1\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for i, tab := range data.Tabs {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<button @click=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("switchTab('%s')", tab.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 49, Col: 53}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" :class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("activeTab === '%s' ? 'bg-dark-700 text-white border-primary-500' : 'text-gray-400 hover:text-white hover:bg-dark-700 border-transparent'", tab.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 50, Col: 174}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "\" class=\"flex items-center gap-2 px-3 py-1.5 rounded-t-lg border-b-2 text-sm whitespace-nowrap transition-colors group\" data-tab-id=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(tab.ID)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 52, Col: 26}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\" data-tab-type=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(tab.Type)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 53, Col: 30}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\" data-target-id=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 string
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(tab.TargetID)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 54, Col: 35}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\" data-tab-name=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var9 string
			templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(tab.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 55, Col: 30}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\" data-active=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var10 string
			templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%t", tab.Active))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 56, Col: 49}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if i == 0 || tab.Active {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, " x-init=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 string
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("if($el.dataset.active === 'true') activeTab = '%s'", tab.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 58, Col: 89}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, ">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var12 = []any{"fas " + tab.Icon + " text-xs"}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var12...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "<i class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var13 string
			templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var12).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "\"></i> <span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var14 string
			templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(tab.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 62, Col: 22}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "</span> <i @click.stop=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var15 string
			templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("closeTab('%s')", tab.ID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 64, Col: 58}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "\" class=\"fas fa-times text-xs opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity ml-1\"></i></button>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</div><!-- Add Tab Button -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if data.AllowNewTab {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "<button @click=\"openNewTabModal()\" class=\"flex items-center justify-center w-8 h-8 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg transition-colors ml-1\" title=\"New Tab\"><i class=\"fas fa-plus text-sm\"></i></button>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "<!-- Global Actions --><div class=\"flex items-center gap-1 ml-2\"><button @click=\"reconnectActive()\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg transition-colors\" title=\"Reconnect\"><i class=\"fas fa-redo text-sm\"></i></button> <button @click=\"toggleFullscreen()\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg transition-colors\" title=\"Fullscreen\"><i class=\"fas fa-expand text-sm\"></i></button></div></div><!-- Tab Status Bar --><div class=\"flex items-center justify-between px-4 py-1 bg-dark-850 border-b border-dark-700 text-xs\"><div class=\"flex items-center gap-4\"><span class=\"text-gray-500\">Tab: <span class=\"text-gray-300\" x-text=\"getActiveTabName()\"></span></span> <span x-show=\"getActiveStatus() === 'connected'\" class=\"flex items-center gap-1 text-green-400\"><span class=\"w-1.5 h-1.5 bg-green-500 rounded-full\"></span> Connected</span> <span x-show=\"getActiveStatus() === 'connecting'\" class=\"flex items-center gap-1 text-yellow-400\"><i class=\"fas fa-spinner fa-spin\"></i> Connecting...</span> <span x-show=\"getActiveStatus() === 'disconnected'\" class=\"flex items-center gap-1 text-red-400\"><span class=\"w-1.5 h-1.5 bg-red-500 rounded-full\"></span> Disconnected</span></div><div class=\"text-gray-500\"><span x-text=\"tabs.size\"></span> tab(s)</div></div><!-- Terminal Containers — visibility managed by switchTab() via style.display,\n\t\t     NOT Alpine x-show, to avoid conflicts with dynamically added tabs. --><div class=\"flex-1 relative bg-black\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for i, tab := range data.Tabs {
			if tab.Active || i == 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "<div id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var16 string
				templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("terminal-container-%s", tab.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 131, Col: 55}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "\" class=\"absolute inset-0\" data-terminal-tab=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var17 string
				templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(tab.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 133, Col: 32}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "\"></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "<div id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var18 string
				templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("terminal-container-%s", tab.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 137, Col: 55}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\" class=\"absolute inset-0\" data-terminal-tab=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var19 string
				templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinStringErrs(tab.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 139, Col: 32}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "\" style=\"display: none\"></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "</div><!-- New Tab Modal -->")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if data.AllowNewTab && data.NewTabURL != "" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<div x-show=\"newTabModalOpen\" x-cloak class=\"fixed inset-0 z-50 flex items-center justify-center\"><div class=\"fixed inset-0 bg-black/50\" @click=\"newTabModalOpen = false\"></div><div class=\"relative bg-dark-800 rounded-xl border border-dark-600 p-6 max-w-md w-full mx-4\"><h3 class=\"text-lg font-semibold text-white mb-4\">Open New Terminal</h3><div hx-get=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var20 string
			templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(data.NewTabURL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/components/terminal_tabs.templ`, Line: 157, Col: 29}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" hx-trigger=\"intersect once\" hx-target=\"#new-tab-content\"><div id=\"new-tab-content\" class=\"space-y-4\"><div class=\"flex items-center justify-center py-8\"><i class=\"fas fa-spinner fa-spin text-2xl text-gray-500\"></i></div></div></div><div class=\"flex justify-end gap-3 mt-6\"><button @click=\"newTabModalOpen = false\" class=\"px-4 py-2 bg-dark-700 hover:bg-dark-600 text-gray-300 rounded-lg transition-colors\">Cancel</button></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// TerminalTabsScript returns the JavaScript for the multi-tab terminal manager.
func TerminalTabsScript() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var21 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var21 == nil {
			templ_7745c5c3_Var21 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "<!-- xterm.js (self-hosted) --><link rel=\"stylesheet\" href=\"/static/vendor/xterm/css/xterm.css\"><script src=\"/static/vendor/xterm/lib/xterm.js\"></script><script src=\"/static/vendor/xterm/addons/xterm-addon-fit.js\"></script><script src=\"/static/vendor/xterm/addons/xterm-addon-web-links.js\"></script><script>\n\t\tfunction multiTabTerminal() {\n\t\t\treturn {\n\t\t\t\tactiveTab: '',\n\t\t\t\ttabs: new Map(), // Map of tabId -> { term, ws, fitAddon, status }\n\t\t\t\tnewTabModalOpen: false,\n\t\t\t\t_initialized: false,\n\t\t\t\t_resizeHandler: null,\n\n\t\t\t\tinit() {\n\t\t\t\t\tif (this._initialized) return;\n\t\t\t\t\tthis._initialized = true;\n\n\t\t\t\t\t// Initialize tabs from DOM\n\t\t\t\t\tconst tabButtons = this.$el.querySelectorAll('[data-tab-id]');\n\t\t\t\t\ttabButtons.forEach(btn => {\n\t\t\t\t\t\tconst tabId = btn.dataset.tabId;\n\t\t\t\t\t\tconst tabType = btn.dataset.tabType;\n\t\t\t\t\t\tconst targetId = btn.dataset.targetId;\n\t\t\t\t\t\tconst tabName = btn.dataset.tabName;\n\t\t\t\t\t\tconst isActive = btn.dataset.active === 'true';\n\n\t\t\t\t\t\tif (!this.tabs.has(tabId)) {\n\t\t\t\t\t\t\tthis.tabs.set(tabId, {\n\t\t\t\t\t\t\t\tid: tabId,\n\t\t\t\t\t\t\t\ttype: tabType,\n\t\t\t\t\t\t\t\ttargetId: targetId,\n\t\t\t\t\t\t\t\tname: tabName,\n\t\t\t\t\t\t\t\tterm: null,\n\t\t\t\t\t\t\t\tws: null,\n\t\t\t\t\t\t\t\tfitAddon: null,\n\t\t\t\t\t\t\t\tstatus: 'disconnected'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isActive || !this.activeTab) {\n\t\t\t\t\t\t\tthis.activeTab = tabId;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Expose addTab globally so HTMX-injected picker buttons can call it\n\t\t\t\t\twindow._terminalAddTab = (id, type, targetId, name) => {\n\t\t\t\t\t\tthis.addTab(id, type, targetId, name);\n\t\t\t\t\t};\n\n\t\t\t\t\t// Initialize active tab terminal\n\t\t\t\t\tif (this.activeTab) {\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tthis.initializeTerminal(this.activeTab);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle window resize\n\t\t\t\t\tthis._resizeHandler = () => {\n\t\t\t\t\t\tthis.tabs.forEach((tab, tabId) => {\n\t\t\t\t\t\t\tif (tab.fitAddon) {\n\t\t\t\t\t\t\t\ttab.fitAddon.fit();\n\t\t\t\t\t\t\t\tthis.sendResize(tabId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\twindow.addEventListener('resize', this._resizeHandler);\n\t\t\t\t},\n\n\t\t\t\tdestroy() {\n\t\t\t\t\tif (this._resizeHandler) {\n\t\t\t\t\t\twindow.removeEventListener('resize', this._resizeHandler);\n\t\t\t\t\t}\n\t\t\t\t\tthis.tabs.forEach((tab) => {\n\t\t\t\t\t\tif (tab.ws) {\n\t\t\t\t\t\t\ttab.ws.onclose = null;\n\t\t\t\t\t\t\ttab.ws.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tab.term) {\n\t\t\t\t\t\t\ttab.term.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.tabs.clear();\n\t\t\t\t},\n\n\t\t\t\tinitializeTerminal(tabId) {\n\t\t\t\t\tconst tab = this.tabs.get(tabId);\n\t\t\t\t\tif (!tab || tab.term) return;\n\n\t\t\t\t\tconst container = document.getElementById(`terminal-container-${tabId}`);\n\t\t\t\t\tif (!container) return;\n\n\t\t\t\t\t// Create terminal\n\t\t\t\t\ttab.term = new Terminal({\n\t\t\t\t\t\tcursorBlink: true,\n\t\t\t\t\t\tcursorStyle: 'block',\n\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\tfontFamily: \"'IBM Plex Mono', 'Fira Code', 'Menlo', monospace\",\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\tbackground: '#0d1117',\n\t\t\t\t\t\t\tforeground: '#e6edf3',\n\t\t\t\t\t\t\tcursor: '#ff6b35',\n\t\t\t\t\t\t\tcursorAccent: '#0d1117',\n\t\t\t\t\t\t\tselection: 'rgba(255, 107, 53, 0.3)',\n\t\t\t\t\t\t\tblack: '#0d1117',\n\t\t\t\t\t\t\tred: '#f85149',\n\t\t\t\t\t\t\tgreen: '#3fb950',\n\t\t\t\t\t\t\tyellow: '#d29922',\n\t\t\t\t\t\t\tblue: '#58a6ff',\n\t\t\t\t\t\t\tmagenta: '#bc8cff',\n\t\t\t\t\t\t\tcyan: '#76e3ea',\n\t\t\t\t\t\t\twhite: '#e6edf3',\n\t\t\t\t\t\t\tbrightBlack: '#484f58',\n\t\t\t\t\t\t\tbrightRed: '#ff7b72',\n\t\t\t\t\t\t\tbrightGreen: '#56d364',\n\t\t\t\t\t\t\tbrightYellow: '#e3b341',\n\t\t\t\t\t\t\tbrightBlue: '#79c0ff',\n\t\t\t\t\t\t\tbrightMagenta: '#d2a8ff',\n\t\t\t\t\t\t\tbrightCyan: '#a5d6ff',\n\t\t\t\t\t\t\tbrightWhite: '#ffffff'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscrollback: 10000,\n\t\t\t\t\t\tconvertEol: true,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Load addons\n\t\t\t\t\ttab.fitAddon = new FitAddon.FitAddon();\n\t\t\t\t\ttab.term.loadAddon(tab.fitAddon);\n\t\t\t\t\ttab.term.loadAddon(new WebLinksAddon.WebLinksAddon());\n\n\t\t\t\t\t// Open terminal\n\t\t\t\t\ttab.term.open(container);\n\t\t\t\t\ttab.fitAddon.fit();\n\n\t\t\t\t\t// Handle input\n\t\t\t\t\ttab.term.onData(data => {\n\t\t\t\t\t\tif (tab.ws && tab.ws.readyState === WebSocket.OPEN) {\n\t\t\t\t\t\t\ttab.ws.send(JSON.stringify({ type: 'input', data: data }));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Handle resize\n\t\t\t\t\ttab.term.onResize(() => {\n\t\t\t\t\t\tthis.sendResize(tabId);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Connect WebSocket\n\t\t\t\t\tthis.connect(tabId);\n\t\t\t\t},\n\n\t\t\t\tconnect(tabId) {\n\t\t\t\t\tconst tab = this.tabs.get(tabId);\n\t\t\t\t\tif (!tab || !tab.term) return;\n\n\t\t\t\t\ttab.status = 'connecting';\n\n\t\t\t\t\tconst protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n\t\t\t\t\tconst { cols, rows } = tab.term;\n\n\t\t\t\t\tlet url;\n\t\t\t\t\tif (tab.type === 'ssh') {\n\t\t\t\t\t\turl = `${protocol}//${window.location.host}/ws/ssh/${tab.targetId}?cols=${cols}&rows=${rows}`;\n\t\t\t\t\t} else if (tab.type === 'container') {\n\t\t\t\t\t\turl = `${protocol}//${window.location.host}/ws/exec/${tab.targetId}?cols=${cols}&rows=${rows}`;\n\t\t\t\t\t} else if (tab.type === 'host') {\n\t\t\t\t\t\turl = `${protocol}//${window.location.host}/ws/host-exec/${tab.targetId}?cols=${cols}&rows=${rows}`;\n\t\t\t\t\t}\n\n\t\t\t\t\ttab.ws = new WebSocket(url);\n\n\t\t\t\t\ttab.ws.onopen = () => {\n\t\t\t\t\t\ttab.status = 'connected';\n\t\t\t\t\t\tif (this.activeTab === tabId) {\n\t\t\t\t\t\t\ttab.term.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttab.ws.onmessage = (event) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst msg = JSON.parse(event.data);\n\t\t\t\t\t\t\tif (msg.type === 'output') {\n\t\t\t\t\t\t\t\ttab.term.write(msg.data);\n\t\t\t\t\t\t\t} else if (msg.type === 'error') {\n\t\t\t\t\t\t\t\ttab.term.write('\\r\\n\\x1b[31mError: ' + (msg.data || msg.message || 'Unknown error') + '\\x1b[0m\\r\\n');\n\t\t\t\t\t\t\t} else if (msg.type === 'connected') {\n\t\t\t\t\t\t\t\t// Connection established\n\t\t\t\t\t\t\t} else if (msg.type === 'disconnected') {\n\t\t\t\t\t\t\t\ttab.term.write('\\r\\n\\x1b[33m' + (msg.data || 'Disconnected') + '\\x1b[0m\\r\\n');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\ttab.term.write(event.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttab.ws.onclose = (event) => {\n\t\t\t\t\t\ttab.status = 'disconnected';\n\t\t\t\t\t\tconst graceful = (event.code === 1000 || event.code === 1001);\n\t\t\t\t\t\ttab.term.write('\\r\\n\\x1b[31mDisconnected' + (graceful ? '.' : ' — reconnecting...') + '\\x1b[0m\\r\\n');\n\t\t\t\t\t\tif (!this._destroyed && !graceful) {\n\t\t\t\t\t\t\tsetTimeout(() => this.connect(tabId), 3000);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttab.ws.onerror = () => {\n\t\t\t\t\t\ttab.status = 'disconnected';\n\t\t\t\t\t\ttab.term.write('\\r\\n\\x1b[31mConnection error\\x1b[0m\\r\\n');\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\tsendResize(tabId) {\n\t\t\t\t\tconst tab = this.tabs.get(tabId);\n\t\t\t\t\tif (tab && tab.ws && tab.ws.readyState === WebSocket.OPEN && tab.term) {\n\t\t\t\t\t\tconst { cols, rows } = tab.term;\n\t\t\t\t\t\ttab.ws.send(JSON.stringify({ type: 'resize', cols: cols, rows: rows }));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tswitchTab(tabId) {\n\t\t\t\t\tif (!this.tabs.has(tabId)) return;\n\n\t\t\t\t\tthis.activeTab = tabId;\n\t\t\t\t\tconst tab = this.tabs.get(tabId);\n\n\t\t\t\t\t// Show/hide dynamically added terminal containers\n\t\t\t\t\tthis.$el.querySelectorAll('[data-terminal-tab]').forEach(el => {\n\t\t\t\t\t\tel.style.display = (el.dataset.terminalTab === tabId) ? '' : 'none';\n\t\t\t\t\t});\n\n\t\t\t\t\t// Update tab button styling\n\t\t\t\t\tthis.$el.querySelectorAll('[data-tab-id]').forEach(btn => {\n\t\t\t\t\t\tif (btn.dataset.tabId === tabId) {\n\t\t\t\t\t\t\tbtn.classList.add('bg-dark-700', 'text-white', 'border-primary-500');\n\t\t\t\t\t\t\tbtn.classList.remove('text-gray-400', 'border-transparent');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtn.classList.remove('bg-dark-700', 'text-white', 'border-primary-500');\n\t\t\t\t\t\t\tbtn.classList.add('text-gray-400', 'border-transparent');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Initialize if not already\n\t\t\t\t\tif (!tab.term) {\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tthis.initializeTerminal(tabId);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\ttab.fitAddon.fit();\n\t\t\t\t\t\t\tsetTimeout(() => tab.term.focus(), 0);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcloseTab(tabId) {\n\t\t\t\t\tif (this.tabs.size <= 1) return; // Don't close last tab\n\n\t\t\t\t\tconst tab = this.tabs.get(tabId);\n\t\t\t\t\tif (tab) {\n\t\t\t\t\t\tif (tab.ws) {\n\t\t\t\t\t\t\ttab.ws.onclose = null;\n\t\t\t\t\t\t\ttab.ws.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tab.term) {\n\t\t\t\t\t\t\ttab.term.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove tab button from DOM\n\t\t\t\t\tconst btn = this.$el.querySelector(`[data-tab-id=\"${tabId}\"]`);\n\t\t\t\t\tif (btn) btn.remove();\n\n\t\t\t\t\t// Remove terminal container\n\t\t\t\t\tconst container = document.getElementById(`terminal-container-${tabId}`);\n\t\t\t\t\tif (container) container.remove();\n\n\t\t\t\t\t// Switch to another tab if this was active\n\t\t\t\t\tif (this.activeTab === tabId) {\n\t\t\t\t\t\tconst remaining = Array.from(this.tabs.keys()).filter(id => id !== tabId);\n\t\t\t\t\t\tif (remaining.length > 0) {\n\t\t\t\t\t\t\tthis.switchTab(remaining[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tabs.delete(tabId);\n\t\t\t\t},\n\n\t\t\t\treconnectActive() {\n\t\t\t\t\tconst tab = this.tabs.get(this.activeTab);\n\t\t\t\t\tif (tab) {\n\t\t\t\t\t\tif (tab.ws) tab.ws.close();\n\t\t\t\t\t\tif (tab.term) {\n\t\t\t\t\t\t\ttab.term.clear();\n\t\t\t\t\t\t\ttab.term.write('\\x1b[33mReconnecting...\\x1b[0m\\r\\n');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.connect(this.activeTab);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\ttoggleFullscreen() {\n\t\t\t\t\tconst container = document.getElementById(`terminal-container-${this.activeTab}`);\n\t\t\t\t\tif (document.fullscreenElement) {\n\t\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t\t} else if (container) {\n\t\t\t\t\t\tcontainer.requestFullscreen();\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst tab = this.tabs.get(this.activeTab);\n\t\t\t\t\t\tif (tab && tab.fitAddon) {\n\t\t\t\t\t\t\ttab.fitAddon.fit();\n\t\t\t\t\t\t\tthis.sendResize(this.activeTab);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100);\n\t\t\t\t},\n\n\t\t\t\topenNewTabModal() {\n\t\t\t\t\tthis.newTabModalOpen = true;\n\t\t\t\t},\n\n\t\t\t\tgetActiveTabName() {\n\t\t\t\t\tconst tab = this.tabs.get(this.activeTab);\n\t\t\t\t\treturn tab ? tab.name : '';\n\t\t\t\t},\n\n\t\t\t\tgetActiveStatus() {\n\t\t\t\t\tconst tab = this.tabs.get(this.activeTab);\n\t\t\t\t\treturn tab ? tab.status : 'disconnected';\n\t\t\t\t},\n\n\t\t\t\t// Called externally to add a new tab\n\t\t\t\taddTab(id, type, targetId, name) {\n\t\t\t\t\tif (this.tabs.has(id)) {\n\t\t\t\t\t\tthis.switchTab(id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tabs.set(id, {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\ttargetId: targetId,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tterm: null,\n\t\t\t\t\t\tws: null,\n\t\t\t\t\t\tfitAddon: null,\n\t\t\t\t\t\tstatus: 'disconnected'\n\t\t\t\t\t});\n\n\t\t\t\t\t// Create tab button in the tab bar\n\t\t\t\t\tconst tabBar = this.$el.querySelector('.overflow-x-auto.flex-1');\n\t\t\t\t\tif (tabBar) {\n\t\t\t\t\t\tconst btn = document.createElement('button');\n\t\t\t\t\t\tbtn.setAttribute('data-tab-id', id);\n\t\t\t\t\t\tbtn.setAttribute('data-tab-type', type);\n\t\t\t\t\t\tbtn.setAttribute('data-target-id', targetId);\n\t\t\t\t\t\tbtn.setAttribute('data-tab-name', name);\n\t\t\t\t\t\tbtn.className = 'flex items-center gap-2 px-3 py-1.5 rounded-t-lg border-b-2 text-sm whitespace-nowrap transition-colors group text-gray-400 hover:text-white hover:bg-dark-700 border-transparent';\n\t\t\t\t\t\tbtn.innerHTML = '<i class=\"fas fa-terminal text-xs\"></i>' +\n\t\t\t\t\t\t\t'<span>' + name + '</span>' +\n\t\t\t\t\t\t\t'<i class=\"fas fa-times text-xs opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity ml-1\" data-close=\"' + id + '\"></i>';\n\t\t\t\t\t\tbtn.addEventListener('click', (e) => {\n\t\t\t\t\t\t\tif (e.target.dataset.close) {\n\t\t\t\t\t\t\t\tthis.closeTab(e.target.dataset.close);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.switchTab(id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\ttabBar.appendChild(btn);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create terminal container div\n\t\t\t\t\tconst termArea = this.$el.querySelector('.flex-1.relative.bg-black');\n\t\t\t\t\tif (termArea) {\n\t\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\t\tdiv.id = 'terminal-container-' + id;\n\t\t\t\t\t\tdiv.className = 'absolute inset-0';\n\t\t\t\t\t\tdiv.setAttribute('data-terminal-tab', id);\n\t\t\t\t\t\tdiv.style.display = 'none';\n\t\t\t\t\t\ttermArea.appendChild(div);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Switch to the new tab and initialize its terminal\n\t\t\t\t\tthis.switchTab(id);\n\t\t\t\t\tthis.newTabModalOpen = false;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t</script><style>\n\t\t[data-terminal-tab] {\n\t\t\tpadding: 4px;\n\t\t\tbackground: #0d1117;\n\t\t}\n\n\t\t[data-terminal-tab]:fullscreen {\n\t\t\tpadding: 16px;\n\t\t}\n\n\t\t.xterm-viewport::-webkit-scrollbar {\n\t\t\twidth: 8px;\n\t\t}\n\n\t\t.xterm-viewport::-webkit-scrollbar-track {\n\t\t\tbackground: #0d1117;\n\t\t}\n\n\t\t.xterm-viewport::-webkit-scrollbar-thumb {\n\t\t\tbackground: #30363d;\n\t\t\tborder-radius: 4px;\n\t\t}\n\n\t\t.xterm-viewport::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground: #484f58;\n\t\t}\n\t</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
