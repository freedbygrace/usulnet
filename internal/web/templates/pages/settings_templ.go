// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

// SidebarItemOption represents a configurable sidebar item.
type SidebarItemOption struct {
	Key     string
	Label   string
	Icon    string
	Visible bool // true = shown, false = hidden
}

// SidebarSectionConfig groups sidebar items by section for the settings UI.
type SidebarSectionConfig struct {
	Label string
	Items []SidebarItemOption
}

type SettingsData struct {
	PageData      layouts.PageData
	Settings      SettingsConfig
	SidebarConfig []SidebarSectionConfig
}

type SettingsConfig struct {
	SiteName         string
	BackupPath       string
	BackupRetention  int
	ScanInterval     int
	UpdateCheckHours int
	S3Enabled        bool
	S3Bucket         string
	S3Region         string
	SMTPEnabled      bool
	SMTPHost         string
	SMTPPort         int
}

func Settings(data SettingsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"max-w-4xl mx-auto space-y-6\"><div><h1 class=\"text-2xl font-display font-bold text-white\">Settings</h1><p class=\"text-gray-400 mt-1\">Configure system settings</p></div><form action=\"/settings\" method=\"POST\" class=\"space-y-6\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.PageData.CSRFToken)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 51, Col: 74}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\"><!-- Quick Links --><div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\"><a href=\"/admin/notifications/channels\" class=\"card p-4 hover:border-primary-500/50 transition-colors group\"><div class=\"flex items-center gap-3\"><div class=\"w-10 h-10 rounded-lg bg-primary-500/10 flex items-center justify-center\"><i class=\"fas fa-bell text-primary-400 group-hover:scale-110 transition-transform\"></i></div><div><h3 class=\"font-medium text-white\">Notification Channels</h3><p class=\"text-xs text-gray-500\">Configure Slack, Discord, Email...</p></div></div></a> <a href=\"/admin/oauth\" class=\"card p-4 hover:border-primary-500/50 transition-colors group\"><div class=\"flex items-center gap-3\"><div class=\"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center\"><i class=\"fas fa-key text-blue-400 group-hover:scale-110 transition-transform\"></i></div><div><h3 class=\"font-medium text-white\">OAuth Providers</h3><p class=\"text-xs text-gray-500\">Configure SSO with Google, GitHub...</p></div></div></a> <a href=\"/admin/ldap\" class=\"card p-4 hover:border-primary-500/50 transition-colors group\"><div class=\"flex items-center gap-3\"><div class=\"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center\"><i class=\"fas fa-sitemap text-green-400 group-hover:scale-110 transition-transform\"></i></div><div><h3 class=\"font-medium text-white\">LDAP Providers</h3><p class=\"text-xs text-gray-500\">Configure LDAP/Active Directory...</p></div></div></a> <a href=\"/license\" class=\"card p-4 hover:border-primary-500/50 transition-colors group\"><div class=\"flex items-center gap-3\"><div class=\"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center\"><i class=\"fas fa-id-card text-purple-400 group-hover:scale-110 transition-transform\"></i></div><div><h3 class=\"font-medium text-white\">License</h3><p class=\"text-xs text-gray-500\">Manage edition and license key</p></div></div></a></div><!-- Account Security --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">Account Security</h2><div class=\"flex items-center justify-between\"><div><p class=\"text-sm text-gray-300\">Two-Factor Authentication (2FA)</p><p class=\"text-xs text-gray-500 mt-1\">Add an extra layer of security with TOTP-based 2FA</p></div><a href=\"/settings/totp\" class=\"btn-secondary text-sm\"><i class=\"fas fa-shield-alt mr-2\"></i>Configure 2FA</a></div></div><!-- General --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">General</h2><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Site Name</label> <input type=\"text\" name=\"site_name\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(data.Settings.SiteName)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 120, Col: 73}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" class=\"input\"></div></div></div><!-- Backups --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">Backups</h2><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Backup Path</label> <input type=\"text\" name=\"backup_path\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(data.Settings.BackupPath)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 131, Col: 77}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" class=\"input font-mono\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Retention (days)</label> <input type=\"number\" name=\"backup_retention\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Settings.BackupRetention))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 135, Col: 108}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" min=\"1\" max=\"365\" class=\"input w-32\"></div></div></div><!-- Security --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">Security Scanner</h2><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Scan Interval (hours)</label> <input type=\"number\" name=\"scan_interval\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Settings.ScanInterval))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 146, Col: 102}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "\" min=\"1\" max=\"168\" class=\"input w-32\"></div></div></div><!-- Updates --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">Update Checker</h2><div class=\"space-y-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Check Interval (hours)</label> <input type=\"number\" name=\"update_check_hours\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 string
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Settings.UpdateCheckHours))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 157, Col: 111}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\" min=\"1\" max=\"168\" class=\"input w-32\"></div></div></div><!-- S3 --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">S3 Storage (Optional)</h2><div class=\"space-y-4\"><div class=\"flex items-center gap-2\"><input type=\"checkbox\" id=\"s3_enabled\" name=\"s3_enabled\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Settings.S3Enabled {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, " checked")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, " class=\"rounded border-dark-600 bg-dark-700 text-primary-500\"> <label for=\"s3_enabled\" class=\"text-sm text-gray-300\">Enable S3 backup storage</label></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Bucket</label> <input type=\"text\" name=\"s3_bucket\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var9 string
			templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(data.Settings.S3Bucket)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 172, Col: 73}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">Region</label> <input type=\"text\" name=\"s3_region\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var10 string
			templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(data.Settings.S3Region)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 176, Col: 73}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\" class=\"input\"></div></div></div><!-- SMTP --><div class=\"card p-6\"><h2 class=\"text-lg font-medium text-white mb-4\">Email Notifications (Optional)</h2><div class=\"space-y-4\"><div class=\"flex items-center gap-2\"><input type=\"checkbox\" id=\"smtp_enabled\" name=\"smtp_enabled\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if data.Settings.SMTPEnabled {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, " checked")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, " class=\"rounded border-dark-600 bg-dark-700 text-primary-500\"> <label for=\"smtp_enabled\" class=\"text-sm text-gray-300\">Enable email notifications</label></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">SMTP Host</label> <input type=\"text\" name=\"smtp_host\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var11 string
			templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(data.Settings.SMTPHost)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 192, Col: 74}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "\" class=\"input\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-2\">SMTP Port</label> <input type=\"number\" name=\"smtp_port\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var12 string
			templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Settings.SMTPPort))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 196, Col: 95}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "\" class=\"input\"></div></div></div></div><div class=\"flex justify-end\"><button type=\"submit\" class=\"btn-primary\"><i class=\"fas fa-save mr-2\"></i>Save Settings</button></div></form><!-- Sidebar Navigation (per-user, outside the system settings form) -->")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(data.SidebarConfig) > 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "<div x-data=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var13 string
				templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(sidebarSettingsInitData(data.SidebarConfig))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 211, Col: 61}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "\"><div class=\"card p-6 mb-6\"><div class=\"flex items-start gap-3 mb-5\"><div class=\"w-10 h-10 rounded-lg bg-primary-500/10 flex items-center justify-center text-primary-400 flex-shrink-0\"><i class=\"fas fa-columns\"></i></div><div><h2 class=\"text-lg font-medium text-white\">Sidebar Navigation</h2><p class=\"text-sm text-gray-400 mt-1\">Choose which items appear in your sidebar. Core navigation items are always visible. Changes are saved automatically.</p></div></div><div class=\"space-y-5\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				for _, section := range data.SidebarConfig {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "<div><h3 class=\"text-xs font-semibold text-gray-500 uppercase tracking-widest mb-3\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var14 string
					templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(section.Label)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 225, Col: 103}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</h3><div class=\"grid grid-cols-1 md:grid-cols-2 gap-2\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					for _, item := range section.Items {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "<label class=\"flex items-center justify-between p-3 rounded-lg bg-dark-700/50 cursor-pointer group hover:bg-dark-700 transition-colors\"><div class=\"flex items-center gap-3\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var15 = []any{"fas " + item.Icon + " w-5 text-center text-sm text-gray-400"}
						templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var15...)
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "<i class=\"")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var16 string
						templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var15).String())
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 1, Col: 0}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "\"></i> <span class=\"text-sm font-medium text-gray-200\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var17 string
						templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(item.Label)
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 231, Col: 73}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "</span></div><div class=\"relative\"><input type=\"checkbox\" x-model=\"")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var18 string
						templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("items['%s']", item.Key))
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/settings.templ`, Line: 236, Col: 60}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "\" @change=\"save()\" class=\"sr-only peer\"><div class=\"w-10 h-5 bg-dark-500 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-primary-500\"></div></div></label>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "</div></div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "</div><!-- Status indicator --><div x-show=\"saved\" x-transition class=\"mt-4 flex items-center gap-2 text-sm text-emerald-400\"><i class=\"fas fa-check-circle\"></i> <span>Sidebar preferences saved</span></div></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// sidebarSettingsInitData builds the Alpine.js x-data JSON for the sidebar settings section.
func sidebarSettingsInitData(sections []SidebarSectionConfig) string {
	parts := "{"
	first := true
	for _, section := range sections {
		for _, item := range section.Items {
			if !first {
				parts += ","
			}
			parts += fmt.Sprintf("'%s':%t", item.Key, item.Visible)
			first = false
		}
	}
	parts += "}"
	return fmt.Sprintf(`{
		items: %s,
		saved: false,
		_timer: null,
		save() {
			this.saved = false;
			clearTimeout(this._timer);
			var self = this;
			this._timer = setTimeout(function() {
				var hidden = {};
				for (var k in self.items) {
					if (!self.items[k]) hidden[k] = true;
				}
				var csrfMeta = document.querySelector('meta[name="csrf-token"]');
				var headers = { 'Content-Type': 'application/json' };
				if (csrfMeta) headers['X-CSRF-Token'] = csrfMeta.content;
				fetch('/profile/sidebar-prefs', {
					method: 'PUT',
					headers: headers,
					body: JSON.stringify({ hidden: hidden })
				}).then(function() { self.saved = true; setTimeout(function() { self.saved = false; }, 2000); });
			}, 300);
		}
	}`, parts)
}

var _ = templruntime.GeneratedTemplate
