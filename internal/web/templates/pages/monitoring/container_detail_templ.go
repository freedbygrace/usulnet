// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package monitoring

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

// ============================================================================
// Data Types
// ============================================================================

type ProcessInfo struct {
	PID     int
	User    string
	CPU     float64
	Mem     float64
	VSZ     uint64
	RSS     uint64
	Command string
}

type ContainerDetailData struct {
	PageData   layouts.PageData
	Container  ContainerStat
	Processes  []ProcessInfo
	HostMemory uint64 // total host memory for context
}

// ============================================================================
// Template
// ============================================================================
func ContainerDetail(data ContainerDetailData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"space-y-6\"><!-- Breadcrumb + Header --><div class=\"flex items-center justify-between\"><div><div class=\"flex items-center gap-2 text-sm text-gray-500 mb-1\"><a href=\"/monitoring\" class=\"hover:text-gray-300 transition-colors\">Monitoring</a> <i class=\"fas fa-chevron-right text-[10px]\"></i> <span class=\"text-gray-300\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 42, Col: 55}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</span></div><div class=\"flex items-center gap-3\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 = []any{"w-3 h-3 rounded-full", stateDot(data.Container.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var4...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<span class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var4).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\"></span><h1 class=\"text-2xl font-display font-bold text-white\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 46, Col: 82}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</h1>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 = []any{"text-sm font-medium px-2 py-0.5 rounded", stateColor(data.Container.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var7...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<span class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 string
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var7).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var9 string
			templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.State)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 48, Col: 29}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</span></div><p class=\"text-gray-400 mt-1 text-sm\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var10 string
			templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Image)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 51, Col: 65}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, " &middot; Uptime: ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var11 string
			templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(data.Container.Uptime)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 51, Col: 108}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</p></div><div class=\"flex items-center gap-3\"><div id=\"ws-status\" class=\"flex items-center gap-2 px-3 py-1.5 bg-dark-800 border border-dark-600 rounded-lg text-xs\"><span id=\"ws-dot\" class=\"w-2 h-2 rounded-full bg-amber-400 animate-pulse\"></span> <span id=\"ws-label\" class=\"text-gray-400\">Connecting...</span></div><a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var12 templ.SafeURL
			templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(fmt.Sprintf("/containers/%s", data.Container.ID)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 58, Col: 78}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\" class=\"px-3 py-1.5 bg-dark-700 hover:bg-dark-600 text-gray-300 rounded-lg transition-colors text-sm font-medium\"><i class=\"fas fa-cube mr-1.5\"></i>Container</a> <a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var13 templ.SafeURL
			templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(fmt.Sprintf("/containers/%s/logs", data.Container.ID)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 62, Col: 83}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "\" class=\"px-3 py-1.5 bg-dark-700 hover:bg-dark-600 text-gray-300 rounded-lg transition-colors text-sm font-medium\"><i class=\"fas fa-file-alt mr-1.5\"></i>Logs</a></div></div><!-- Summary Cards --><div class=\"grid grid-cols-2 lg:grid-cols-5 gap-4\"><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><span class=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">CPU</span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var14 = []any{"text-xl font-display font-bold mt-1", cpuColor(data.Container.CPUPercent)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var14...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<div id=\"card-cpu\" class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var15 string
			templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var14).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var16 string
			templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%.2f%%", data.Container.CPUPercent))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 74, Col: 56}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><span class=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">Memory</span><div class=\"mt-1\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var17 = []any{"text-xl font-display font-bold", cpuColor(data.Container.MemPercent)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var17...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "<span id=\"card-mem\" class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var18 string
			templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var17).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var19 string
			templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(data.Container.MemUsage))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 81, Col: 45}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "</span> <span class=\"text-xs text-gray-500 ml-1\">/ ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var20 string
			templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(data.Container.MemLimit))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 83, Col: 87}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "</span></div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><span class=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">Network Rx</span><div id=\"card-netrx\" class=\"text-xl font-display font-bold text-gray-300 mt-1\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var21 string
			templ_7745c5c3_Var21, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(data.Container.NetRx))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 89, Col: 41}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var21))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "</div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><span class=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">Network Tx</span><div id=\"card-nettx\" class=\"text-xl font-display font-bold text-gray-300 mt-1\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var22 string
			templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(data.Container.NetTx))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 95, Col: 41}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "</div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><span class=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">PIDs</span><div id=\"card-pids\" class=\"text-xl font-display font-bold text-gray-300 mt-1\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var23 string
			templ_7745c5c3_Var23, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", data.Container.PIDs))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 101, Col: 46}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var23))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "</div></div></div><!-- Charts: CPU + Memory --><div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4\"><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><div class=\"flex items-center justify-between mb-3\"><h2 class=\"text-sm font-semibold text-white\">CPU Usage</h2><span id=\"chart-cpu-label\" class=\"text-xs text-gray-400\"></span></div><div class=\"h-56\"><canvas id=\"chart-cpu\"></canvas></div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><div class=\"flex items-center justify-between mb-3\"><h2 class=\"text-sm font-semibold text-white\">Memory Usage</h2><span id=\"chart-mem-label\" class=\"text-xs text-gray-400\"></span></div><div class=\"h-56\"><canvas id=\"chart-mem\"></canvas></div></div></div><!-- Charts: Network + Block I/O --><div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4\"><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><div class=\"flex items-center justify-between mb-3\"><h2 class=\"text-sm font-semibold text-white\">Network I/O</h2><span id=\"chart-net-label\" class=\"text-xs text-gray-400\"></span></div><div class=\"h-48\"><canvas id=\"chart-net\"></canvas></div></div><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-4\"><div class=\"flex items-center justify-between mb-3\"><h2 class=\"text-sm font-semibold text-white\">Block I/O</h2><span id=\"chart-blk-label\" class=\"text-xs text-gray-400\"></span></div><div class=\"h-48\"><canvas id=\"chart-blk\"></canvas></div></div></div><!-- Process List -->")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(data.Processes) > 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "<div class=\"bg-dark-800 rounded-xl border border-dark-600 overflow-hidden\"><div class=\"px-4 py-3 border-b border-dark-600\"><h2 class=\"text-sm font-semibold text-white\">Processes</h2></div><div class=\"overflow-x-auto\"><table class=\"w-full text-sm\"><thead><tr class=\"text-xs text-gray-500 uppercase tracking-wider border-b border-dark-700\"><th class=\"px-4 py-2 text-left font-medium\">PID</th><th class=\"px-4 py-2 text-left font-medium\">User</th><th class=\"px-4 py-2 text-right font-medium\">CPU %</th><th class=\"px-4 py-2 text-right font-medium\">MEM %</th><th class=\"px-4 py-2 text-right font-medium\">VSZ</th><th class=\"px-4 py-2 text-right font-medium\">RSS</th><th class=\"px-4 py-2 text-left font-medium\">Command</th></tr></thead> <tbody id=\"process-table\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				for _, p := range data.Processes {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "<tr class=\"border-b border-dark-700/50 hover:bg-dark-700/30\"><td class=\"px-4 py-1.5 font-mono text-xs text-gray-400\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var24 string
					templ_7745c5c3_Var24, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", p.PID))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 172, Col: 92}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var24))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "</td><td class=\"px-4 py-1.5 text-xs text-gray-400\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var25 string
					templ_7745c5c3_Var25, templ_7745c5c3_Err = templ.JoinStringErrs(p.User)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 173, Col: 64}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var25))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "</td>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var26 = []any{"px-4 py-1.5 text-right font-mono text-xs", cpuColor(p.CPU)}
					templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var26...)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "<td class=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var27 string
					templ_7745c5c3_Var27, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var26).String())
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var27))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var28 string
					templ_7745c5c3_Var28, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%.1f", p.CPU))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 174, Col: 112}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var28))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "</td>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var29 = []any{"px-4 py-1.5 text-right font-mono text-xs", cpuColor(p.Mem)}
					templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var29...)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "<td class=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var30 string
					templ_7745c5c3_Var30, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var29).String())
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 1, Col: 0}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var30))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var31 string
					templ_7745c5c3_Var31, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%.1f", p.Mem))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 175, Col: 112}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var31))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "</td><td class=\"px-4 py-1.5 text-right font-mono text-xs text-gray-400\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var32 string
					templ_7745c5c3_Var32, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(p.VSZ))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 176, Col: 97}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var32))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, "</td><td class=\"px-4 py-1.5 text-right font-mono text-xs text-gray-400\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var33 string
					templ_7745c5c3_Var33, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(p.RSS))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 177, Col: 97}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var33))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, "</td><td class=\"px-4 py-1.5 font-mono text-xs text-gray-300 max-w-md truncate\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var34 string
					templ_7745c5c3_Var34, templ_7745c5c3_Err = templ.JoinStringErrs(p.Command)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/monitoring/container_detail.templ`, Line: 178, Col: 95}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var34))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 35, "</td></tr>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 36, "</tbody></table></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 37, "</div><!-- Chart.js --> <script src=\"/static/vendor/chartjs/chart.umd.js\"></script> <script>\n\t\t(function() {\n\t\t\t'use strict';\n\n\t\t\tconst CONTAINER_ID = { templ.JSONString(data.Container.ID) };\n\t\t\tconst MAX_POINTS = 180; // 6 min at 2s\n\t\t\tlet ws = null;\n\t\t\tlet charts = {};\n\t\t\tlet prevNetRx = 0, prevNetTx = 0;\n\t\t\tlet prevBlkR = 0, prevBlkW = 0;\n\n\t\t\tChart.defaults.color = '#9ca3af';\n\t\t\tChart.defaults.borderColor = '#1f2937';\n\t\t\tChart.defaults.font.family = \"'IBM Plex Mono', monospace\";\n\t\t\tChart.defaults.font.size = 11;\n\n\t\t\tconst C = {\n\t\t\t\tprimary: '#ff6b35', primaryF: 'rgba(255,107,53,0.08)',\n\t\t\t\tblue: '#3b82f6', blueF: 'rgba(59,130,246,0.08)',\n\t\t\t\tgreen: '#10b981', greenF: 'rgba(16,185,129,0.08)',\n\t\t\t\tpurple: '#8b5cf6', purpleF: 'rgba(139,92,246,0.08)',\n\t\t\t\tred: '#ef4444', redF: 'rgba(239,68,68,0.08)',\n\t\t\t\tgrid: '#1e293b',\n\t\t\t};\n\n\t\t\tfunction mkChart(id, datasets, yMax, yLabel) {\n\t\t\t\tconst ctx = document.getElementById(id);\n\t\t\t\tif (!ctx) return null;\n\t\t\t\treturn new Chart(ctx.getContext('2d'), {\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tdata: { labels: [], datasets: datasets },\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tresponsive: true, maintainAspectRatio: false, animation: false,\n\t\t\t\t\t\tinteraction: { mode: 'index', intersect: false },\n\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\tlegend: { display: datasets.length > 1, position: 'top', labels: { boxWidth: 10, padding: 12, usePointStyle: true } },\n\t\t\t\t\t\t\ttooltip: { backgroundColor: '#0d1117', borderColor: '#30363d', borderWidth: 1, padding: 8 }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\tx: { grid: { color: C.grid, drawTicks: false }, ticks: { maxTicksLimit: 8, maxRotation: 0 } },\n\t\t\t\t\t\t\ty: {\n\t\t\t\t\t\t\t\tbeginAtZero: true, max: yMax || undefined,\n\t\t\t\t\t\t\t\tgrid: { color: C.grid, drawTicks: false },\n\t\t\t\t\t\t\t\ttitle: yLabel ? { display: true, text: yLabel, padding: 4 } : undefined,\n\t\t\t\t\t\t\t\tticks: { callback: yLabel === 'bytes/s' ? fmtB : undefined }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\telements: { point: { radius: 0, hoverRadius: 3 }, line: { borderWidth: 1.5 } }\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction fmtB(v) {\n\t\t\t\tif (v === 0) return '0';\n\t\t\t\tconst u = ['B','K','M','G']; let i=0;\n\t\t\t\twhile (v >= 1024 && i < u.length-1) { v /= 1024; i++; }\n\t\t\t\treturn v.toFixed(i>0?1:0) + u[i];\n\t\t\t}\n\n\t\t\tfunction push(chart, label, vals) {\n\t\t\t\tif (!chart) return;\n\t\t\t\tchart.data.labels.push(label);\n\t\t\t\tvals.forEach((v,i) => { if (chart.data.datasets[i]) chart.data.datasets[i].data.push(v); });\n\t\t\t\twhile (chart.data.labels.length > MAX_POINTS) {\n\t\t\t\t\tchart.data.labels.shift();\n\t\t\t\t\tchart.data.datasets.forEach(ds => ds.data.shift());\n\t\t\t\t}\n\t\t\t\tchart.update('none');\n\t\t\t}\n\n\t\t\tfunction initCharts() {\n\t\t\t\tcharts.cpu = mkChart('chart-cpu', [\n\t\t\t\t\t{ label: 'CPU %', borderColor: C.primary, backgroundColor: C.primaryF, fill: true, tension: 0.3, data: [] }\n\t\t\t\t], 100, '%');\n\t\t\t\tcharts.mem = mkChart('chart-mem', [\n\t\t\t\t\t{ label: 'Memory %', borderColor: C.blue, backgroundColor: C.blueF, fill: true, tension: 0.3, data: [] }\n\t\t\t\t], 100, '%');\n\t\t\t\tcharts.net = mkChart('chart-net', [\n\t\t\t\t\t{ label: 'Rx', borderColor: C.green, backgroundColor: C.greenF, fill: true, tension: 0.3, data: [] },\n\t\t\t\t\t{ label: 'Tx', borderColor: C.purple, backgroundColor: C.purpleF, fill: true, tension: 0.3, data: [] }\n\t\t\t\t], undefined, 'bytes/s');\n\t\t\t\tcharts.blk = mkChart('chart-blk', [\n\t\t\t\t\t{ label: 'Read', borderColor: C.blue, backgroundColor: C.blueF, fill: true, tension: 0.3, data: [] },\n\t\t\t\t\t{ label: 'Write', borderColor: C.red, backgroundColor: C.redF, fill: true, tension: 0.3, data: [] }\n\t\t\t\t], undefined, 'bytes/s');\n\t\t\t}\n\n\t\t\tfunction connect() {\n\t\t\t\tconst proto = location.protocol === 'https:' ? 'wss:' : 'ws:';\n\t\t\t\tws = new WebSocket(proto + '//' + location.host + '/ws/monitoring/container/' + CONTAINER_ID);\n\n\t\t\t\tws.onopen = () => {\n\t\t\t\t\tdocument.getElementById('ws-dot').className = 'w-2 h-2 rounded-full bg-emerald-400';\n\t\t\t\t\tdocument.getElementById('ws-label').textContent = 'Live';\n\t\t\t\t};\n\t\t\t\tws.onclose = () => {\n\t\t\t\t\tdocument.getElementById('ws-dot').className = 'w-2 h-2 rounded-full bg-red-400';\n\t\t\t\t\tdocument.getElementById('ws-label').textContent = 'Disconnected';\n\t\t\t\t\tsetTimeout(connect, 3000);\n\t\t\t\t};\n\t\t\t\tws.onerror = () => ws.close();\n\n\t\t\t\tws.onmessage = (evt) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst msg = JSON.parse(evt.data);\n\t\t\t\t\t\tif (msg.type === 'container_stats') handleStats(msg.data);\n\t\t\t\t\t\tif (msg.type === 'processes') handleProcesses(msg.data);\n\t\t\t\t\t} catch(e) { console.error('WS parse:', e); }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction handleStats(d) {\n\t\t\t\tconst now = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit',second:'2-digit'});\n\n\t\t\t\t// Cards\n\t\t\t\tsetText('card-cpu', d.cpu_percent.toFixed(2) + '%');\n\t\t\t\tsetText('card-mem', fmtB(d.mem_usage));\n\t\t\t\tsetText('card-netrx', fmtB(d.net_rx));\n\t\t\t\tsetText('card-nettx', fmtB(d.net_tx));\n\t\t\t\tsetText('card-pids', d.pids);\n\n\t\t\t\t// Charts\n\t\t\t\tpush(charts.cpu, now, [d.cpu_percent]);\n\t\t\t\tpush(charts.mem, now, [d.mem_percent]);\n\n\t\t\t\tsetText('chart-cpu-label', d.cpu_percent.toFixed(2) + '%');\n\t\t\t\tsetText('chart-mem-label', d.mem_percent.toFixed(1) + '% â€” ' + fmtB(d.mem_usage) + ' / ' + fmtB(d.mem_limit));\n\n\t\t\t\t// Network rates\n\t\t\t\tif (prevNetRx > 0) {\n\t\t\t\t\tconst rxR = Math.max(0, (d.net_rx - prevNetRx) / 2);\n\t\t\t\t\tconst txR = Math.max(0, (d.net_tx - prevNetTx) / 2);\n\t\t\t\t\tpush(charts.net, now, [rxR, txR]);\n\t\t\t\t\tsetText('chart-net-label', 'Rx: ' + fmtB(rxR) + '/s | Tx: ' + fmtB(txR) + '/s');\n\t\t\t\t}\n\t\t\t\tprevNetRx = d.net_rx; prevNetTx = d.net_tx;\n\n\t\t\t\t// Block I/O rates\n\t\t\t\tif (prevBlkR > 0) {\n\t\t\t\t\tconst rR = Math.max(0, (d.block_read - prevBlkR) / 2);\n\t\t\t\t\tconst wR = Math.max(0, (d.block_write - prevBlkW) / 2);\n\t\t\t\t\tpush(charts.blk, now, [rR, wR]);\n\t\t\t\t\tsetText('chart-blk-label', 'R: ' + fmtB(rR) + '/s | W: ' + fmtB(wR) + '/s');\n\t\t\t\t}\n\t\t\t\tprevBlkR = d.block_read; prevBlkW = d.block_write;\n\t\t\t}\n\n\t\t\tfunction handleProcesses(procs) {\n\t\t\t\tconst tbody = document.getElementById('process-table');\n\t\t\t\tif (!tbody || !procs) return;\n\t\t\t\ttbody.innerHTML = procs.map(p => {\n\t\t\t\t\tconst cpuC = p.cpu > 80 ? 'text-red-400' : p.cpu > 50 ? 'text-amber-400' : 'text-gray-300';\n\t\t\t\t\tconst memC = p.mem > 80 ? 'text-red-400' : p.mem > 50 ? 'text-amber-400' : 'text-gray-300';\n\t\t\t\t\treturn '<tr class=\"border-b border-dark-700/50 hover:bg-dark-700/30\">' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 font-mono text-xs text-gray-400\">' + p.pid + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 text-xs text-gray-400\">' + esc(p.user) + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 text-right font-mono text-xs ' + cpuC + '\">' + p.cpu.toFixed(1) + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 text-right font-mono text-xs ' + memC + '\">' + p.mem.toFixed(1) + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 text-right font-mono text-xs text-gray-400\">' + fmtB(p.vsz) + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 text-right font-mono text-xs text-gray-400\">' + fmtB(p.rss) + '</td>' +\n\t\t\t\t\t\t'<td class=\"px-4 py-1.5 font-mono text-xs text-gray-300 max-w-md truncate\">' + esc(p.command) + '</td>' +\n\t\t\t\t\t'</tr>';\n\t\t\t\t}).join('');\n\t\t\t}\n\n\t\t\tfunction setText(id, val) {\n\t\t\t\tconst el = document.getElementById(id);\n\t\t\t\tif (el) el.textContent = val;\n\t\t\t}\n\n\t\t\tfunction esc(s) {\n\t\t\t\tconst d = document.createElement('div');\n\t\t\t\td.appendChild(document.createTextNode(s || ''));\n\t\t\t\treturn d.innerHTML;\n\t\t\t}\n\n\t\t\tdocument.addEventListener('DOMContentLoaded', () => { initCharts(); connect(); });\n\t\t})();\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
