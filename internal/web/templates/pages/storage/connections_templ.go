// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package storage

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

// Data types for storage templates
type StorageConnectionData struct {
	ID           string
	Name         string
	Endpoint     string
	Region       string
	UsePathStyle bool
	UseSSL       bool
	IsDefault    bool
	Status       string
	StatusMsg    string
	CreatedAt    string
	LastChecked  string
	BucketCount  int64
	TotalSize    int64
	TotalObjects int64
}

type StorageListData struct {
	PageData    layouts.PageData
	Connections []StorageConnectionData
}

type StorageBucketData struct {
	Name        string
	Region      string
	SizeBytes   int64
	SizeHuman   string
	ObjectCount int64
	IsPublic    bool
	Versioning  bool
	CreatedAt   string
}

type StorageBucketsData struct {
	PageData   layouts.PageData
	Connection StorageConnectionData
	Buckets    []StorageBucketData
}

type StorageObjectData struct {
	Key          string
	Name         string
	Size         int64
	SizeHuman    string
	LastModified string
	ContentType  string
	IsDir        bool
}

type BreadcrumbItem struct {
	Label  string
	Prefix string
}

type StorageBrowserData struct {
	PageData       layouts.PageData
	ConnectionID   string
	ConnectionName string
	Bucket         string
	Prefix         string
	Breadcrumbs    []BreadcrumbItem
	Objects        []StorageObjectData
}

type StorageAuditEntryData struct {
	Action       string
	ResourceType string
	ResourceName string
	UserID       string
	CreatedAt    string
}

type StorageAuditData struct {
	PageData       layouts.PageData
	ConnectionID   string
	ConnectionName string
	Entries        []StorageAuditEntryData
	Page           int
	TotalPages     int
}

func ConnectionsList(data StorageListData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"space-y-6\"><!-- Header --><div class=\"flex items-center justify-between\"><div><h1 class=\"text-2xl font-display font-bold text-white\">Object Storage</h1><p class=\"text-gray-400 mt-1\">Manage storage connections (S3, Azure Blob, GCS, Backblaze B2, SFTP, Local)</p></div><button onclick=\"document.getElementById('create-modal').classList.remove('hidden')\" class=\"btn-primary\"><i class=\"fas fa-plus mr-2\"></i>Add Connection</button></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(data.Connections) == 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<!-- Empty state --> <div class=\"card p-12 text-center\"><div class=\"w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary-500/10 flex items-center justify-center\"><i class=\"fas fa-cloud text-2xl text-primary-400\"></i></div><h3 class=\"text-lg font-medium text-white mb-2\">No storage connections</h3><p class=\"text-gray-400 mb-6\">Add a MinIO or S3-compatible storage endpoint to manage buckets and objects.</p><button onclick=\"document.getElementById('create-modal').classList.remove('hidden')\" class=\"btn-primary\"><i class=\"fas fa-plus mr-2\"></i>Add Connection</button></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<!-- Connections grid --> <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				for _, conn := range data.Connections {
					templ_7745c5c3_Err = connectionCard(conn, data.PageData.CSRFToken).Render(ctx, templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</div><!-- Create connection modal --> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = createConnectionModal(data.PageData.CSRFToken).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func connectionCard(conn StorageConnectionData, csrfToken string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<div class=\"card p-5 hover:border-primary-500/30 transition-colors group\"><div class=\"flex items-start justify-between mb-4\"><div class=\"flex items-center gap-3\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 = []any{"w-10 h-10 rounded-xl flex items-center justify-center",
			templ.KV("bg-green-500/10", conn.Status == "active"),
			templ.KV("bg-red-500/10", conn.Status == "error"),
			templ.KV("bg-yellow-500/10", conn.Status == "pending")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var4...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var4).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 = []any{"fas fa-cloud",
			templ.KV("text-green-400", conn.Status == "active"),
			templ.KV("text-red-400", conn.Status == "error"),
			templ.KV("text-yellow-400", conn.Status == "pending")}
		templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var6...)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<i class=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var7 string
		templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var6).String())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 1, Col: 0}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\"></i></div><div><h3 class=\"font-medium text-white\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var8 string
		templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(conn.Name)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 151, Col: 51}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</h3><p class=\"text-xs text-gray-500 font-mono\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var9 string
		templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(conn.Endpoint)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 152, Col: 63}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</p></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if conn.IsDefault {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<span class=\"text-[10px] font-semibold bg-primary-500/20 text-primary-400 px-2 py-0.5 rounded-full uppercase tracking-wide\">Default</span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</div><div class=\"grid grid-cols-3 gap-3 mb-4 text-center\"><div class=\"bg-dark-700/50 rounded-lg p-2\"><p class=\"text-lg font-bold text-white\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var10 string
		templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", conn.BucketCount))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 162, Col: 81}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</p><p class=\"text-[10px] text-gray-500 uppercase\">Buckets</p></div><div class=\"bg-dark-700/50 rounded-lg p-2\"><p class=\"text-lg font-bold text-white\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var11 string
		templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(formatBytes(conn.TotalSize))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 166, Col: 73}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "</p><p class=\"text-[10px] text-gray-500 uppercase\">Size</p></div><div class=\"bg-dark-700/50 rounded-lg p-2\"><p class=\"text-lg font-bold text-white\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var12 string
		templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(formatCount(conn.TotalObjects))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 170, Col: 76}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "</p><p class=\"text-[10px] text-gray-500 uppercase\">Objects</p></div></div><div class=\"flex items-center gap-2 text-xs text-gray-500 mb-4\"><span class=\"flex items-center gap-1\"><i class=\"fas fa-globe-americas\"></i>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var13 string
		templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(conn.Region)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 177, Col: 54}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "</span> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if conn.UseSSL {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "<span class=\"flex items-center gap-1 text-green-400\"><i class=\"fas fa-lock\"></i>SSL</span> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		if conn.StatusMsg != "" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "<span class=\"text-red-400 truncate\" title=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var14 string
			templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(conn.StatusMsg)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 185, Col: 62}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "\"><i class=\"fas fa-exclamation-triangle mr-1\"></i>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var15 string
			templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(conn.StatusMsg)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 186, Col: 69}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "</span>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "</div><div class=\"flex items-center gap-2\"><a href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var16 templ.SafeURL
		templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/storage/" + conn.ID + "/buckets"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 192, Col: 62}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "\" class=\"btn-primary text-xs flex-1 text-center\"><i class=\"fas fa-folder-open mr-1\"></i>Buckets</a><form method=\"POST\" action=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var17 templ.SafeURL
		templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/storage/" + conn.ID + "/test"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 195, Col: 78}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var18 string
		templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(csrfToken)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 196, Col: 60}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\"> <button type=\"submit\" class=\"btn-secondary text-xs\" title=\"Test connection\"><i class=\"fas fa-plug\"></i></button></form><form method=\"POST\" action=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var19 templ.SafeURL
		templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/storage/" + conn.ID + "/delete"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 201, Col: 80}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "\" onsubmit=\"return confirm('Delete this connection and remove all tracking data?')\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var20 string
		templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(csrfToken)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 203, Col: 60}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\"> <button type=\"submit\" class=\"btn-danger text-xs\" title=\"Delete\"><i class=\"fas fa-trash\"></i></button></form></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func createConnectionModal(csrfToken string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var21 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var21 == nil {
			templ_7745c5c3_Var21 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<div id=\"create-modal\" class=\"hidden fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm\"><div class=\"card w-full max-w-lg mx-4 p-6 max-h-[90vh] overflow-y-auto\"><div class=\"flex items-center justify-between mb-6\"><h2 class=\"text-lg font-display font-bold text-white\">New Storage Connection</h2><button onclick=\"document.getElementById('create-modal').classList.add('hidden')\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times\"></i></button></div><form method=\"POST\" action=\"/storage/connections\" class=\"space-y-4\" x-data=\"{ storageType: 's3' }\"><input type=\"hidden\" name=\"csrf_token\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var22 string
		templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs(csrfToken)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/storage/connections.templ`, Line: 223, Col: 60}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\"><div><label class=\"label\">Storage Type</label> <select name=\"storage_type\" x-model=\"storageType\" class=\"input\"><option value=\"s3\">S3 / S3-Compatible (MinIO, AWS, DigitalOcean Spaces)</option> <option value=\"azure\">Azure Blob Storage</option> <option value=\"gcs\">Google Cloud Storage (GCS)</option> <option value=\"b2\">Backblaze B2</option> <option value=\"sftp\">SFTP</option> <option value=\"local\">Local Filesystem</option></select></div><div><label class=\"label\">Connection Name</label> <input type=\"text\" name=\"name\" required placeholder=\"My Storage\" class=\"input\"></div><!-- S3 Fields --><div x-show=\"storageType === 's3'\" class=\"space-y-4\"><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"label\">Endpoint</label> <input type=\"text\" name=\"endpoint\" placeholder=\"minio:9000\" class=\"input\"></div><div><label class=\"label\">Region</label> <input type=\"text\" name=\"region\" value=\"us-east-1\" class=\"input\"></div></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"label\">Access Key</label> <input type=\"text\" name=\"access_key\" class=\"input\" autocomplete=\"off\"></div><div><label class=\"label\">Secret Key</label> <input type=\"password\" name=\"secret_key\" class=\"input\" autocomplete=\"off\"></div></div><div class=\"flex items-center gap-6\"><label class=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\"><input type=\"checkbox\" name=\"use_path_style\" checked class=\"form-checkbox rounded bg-dark-700 border-dark-500 text-primary-500\"> Path Style</label> <label class=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\"><input type=\"checkbox\" name=\"use_ssl\" class=\"form-checkbox rounded bg-dark-700 border-dark-500 text-primary-500\"> Use SSL</label></div></div><!-- Azure Fields --><div x-show=\"storageType === 'azure'\" class=\"space-y-4\"><div><label class=\"label\">Account Name</label> <input type=\"text\" name=\"azure_account_name\" placeholder=\"mystorageaccount\" class=\"input\"></div><div><label class=\"label\">Account Key</label> <input type=\"password\" name=\"azure_account_key\" class=\"input\" autocomplete=\"off\"></div><div><label class=\"label\">Container Name</label> <input type=\"text\" name=\"azure_container\" placeholder=\"backups\" class=\"input\"></div></div><!-- GCS Fields --><div x-show=\"storageType === 'gcs'\" class=\"space-y-4\"><div><label class=\"label\">Project ID</label> <input type=\"text\" name=\"gcs_project_id\" placeholder=\"my-project-123\" class=\"input\"></div><div><label class=\"label\">Bucket Name</label> <input type=\"text\" name=\"gcs_bucket\" placeholder=\"my-bucket\" class=\"input\"></div><div><label class=\"label\">Service Account JSON Key</label> <textarea name=\"gcs_credentials\" rows=\"4\" placeholder=\"Paste your service account JSON key here\" class=\"input font-mono text-xs\"></textarea></div></div><!-- B2 Fields --><div x-show=\"storageType === 'b2'\" class=\"space-y-4\"><div><label class=\"label\">Application Key ID</label> <input type=\"text\" name=\"b2_key_id\" class=\"input\" autocomplete=\"off\"></div><div><label class=\"label\">Application Key</label> <input type=\"password\" name=\"b2_app_key\" class=\"input\" autocomplete=\"off\"></div><div><label class=\"label\">Bucket Name</label> <input type=\"text\" name=\"b2_bucket\" placeholder=\"my-backups\" class=\"input\"></div></div><!-- SFTP Fields --><div x-show=\"storageType === 'sftp'\" class=\"space-y-4\"><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"label\">Host</label> <input type=\"text\" name=\"sftp_host\" placeholder=\"192.168.1.100\" class=\"input\"></div><div><label class=\"label\">Port</label> <input type=\"number\" name=\"sftp_port\" value=\"22\" class=\"input\"></div></div><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"label\">Username</label> <input type=\"text\" name=\"sftp_username\" class=\"input\"></div><div><label class=\"label\">Password</label> <input type=\"password\" name=\"sftp_password\" class=\"input\" autocomplete=\"off\"></div></div><div><label class=\"label\">Remote Path</label> <input type=\"text\" name=\"sftp_path\" placeholder=\"/backups\" class=\"input\"></div><div><label class=\"label\">SSH Key (optional)</label> <textarea name=\"sftp_key\" rows=\"3\" placeholder=\"Paste private key (optional, uses password if empty)\" class=\"input font-mono text-xs\"></textarea></div></div><!-- Local Fields --><div x-show=\"storageType === 'local'\" class=\"space-y-4\"><div><label class=\"label\">Local Path</label> <input type=\"text\" name=\"local_path\" placeholder=\"/data/backups\" class=\"input\"><p class=\"text-gray-500 text-xs mt-1\">Absolute path on the server filesystem</p></div></div><label class=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\"><input type=\"checkbox\" name=\"is_default\" class=\"form-checkbox rounded bg-dark-700 border-dark-500 text-primary-500\"> Set as Default</label><div class=\"flex items-center gap-3 pt-2\"><button type=\"submit\" class=\"btn-primary flex-1\"><i class=\"fas fa-plus mr-2\"></i>Create Connection</button> <button type=\"button\" onclick=\"document.getElementById('create-modal').classList.add('hidden')\" class=\"btn-secondary\">Cancel</button></div></form></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func formatBytes(b int64) string {
	if b == 0 {
		return "0 B"
	}
	const unit = 1024
	if b < unit {
		return fmt.Sprintf("%d B", b)
	}
	div, exp := int64(unit), 0
	for n := b / unit; n >= unit; n /= unit {
		div *= unit
		exp++
	}
	units := []string{"KB", "MB", "GB", "TB"}
	return fmt.Sprintf("%.1f %s", float64(b)/float64(div), units[exp])
}

func formatCount(n int64) string {
	if n < 1000 {
		return fmt.Sprintf("%d", n)
	}
	if n < 1000000 {
		return fmt.Sprintf("%.1fK", float64(n)/1000)
	}
	return fmt.Sprintf("%.1fM", float64(n)/1000000)
}

var _ = templruntime.GeneratedTemplate
