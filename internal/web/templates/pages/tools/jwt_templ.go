// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package tools

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "github.com/fr4nsys/usulnet/internal/web/templates/layouts"

func JWTParser(data ToolsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = toolHeader("JWT Parser", "Decode and inspect JSON Web Tokens", "/tools").Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, " <div x-data=\"jwtParser()\" class=\"space-y-6\"><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><h3 class=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3\">Token</h3><textarea x-model=\"token\" @input=\"parse()\" rows=\"4\" class=\"w-full bg-dark-700 border border-dark-600 rounded-lg px-4 py-3 text-sm text-white font-mono placeholder-gray-500 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none resize-none\" placeholder=\"Paste your JWT token here...\"></textarea><div x-show=\"error\" class=\"mt-2 text-sm text-red-400\"><i class=\"fas fa-exclamation-circle mr-1\"></i><span x-text=\"error\"></span></div></div><div x-show=\"parsed\" class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\"><!-- Header --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><div class=\"flex items-center justify-between mb-3\"><h3 class=\"text-sm font-semibold text-red-400 uppercase tracking-wider\">Header</h3><button @click=\"copy(headerJson)\" class=\"text-xs text-primary-400 hover:text-primary-300\"><i class=\"fas fa-copy mr-1\"></i>Copy</button></div><pre class=\"bg-dark-700 rounded-lg p-4 text-sm text-red-300 font-mono overflow-x-auto whitespace-pre-wrap\" x-text=\"headerJson\"></pre></div><!-- Payload --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><div class=\"flex items-center justify-between mb-3\"><h3 class=\"text-sm font-semibold text-purple-400 uppercase tracking-wider\">Payload</h3><button @click=\"copy(payloadJson)\" class=\"text-xs text-primary-400 hover:text-primary-300\"><i class=\"fas fa-copy mr-1\"></i>Copy</button></div><pre class=\"bg-dark-700 rounded-lg p-4 text-sm text-purple-300 font-mono overflow-x-auto whitespace-pre-wrap\" x-text=\"payloadJson\"></pre><!-- Expiration info --><div x-show=\"expInfo\" class=\"mt-3 p-3 rounded-lg\" :class=\"expired ? 'bg-red-500/10 border border-red-500/20' : 'bg-green-500/10 border border-green-500/20'\"><div class=\"flex items-center gap-2\"><i :class=\"expired ? 'fas fa-times-circle text-red-400' : 'fas fa-check-circle text-green-400'\"></i> <span class=\"text-sm\" :class=\"expired ? 'text-red-400' : 'text-green-400'\" x-text=\"expInfo\"></span></div></div></div><!-- Signature --><div class=\"bg-dark-800 rounded-xl border border-dark-600 p-5\"><div class=\"flex items-center justify-between mb-3\"><h3 class=\"text-sm font-semibold text-blue-400 uppercase tracking-wider\">Signature</h3><button @click=\"copy(signature)\" class=\"text-xs text-primary-400 hover:text-primary-300\"><i class=\"fas fa-copy mr-1\"></i>Copy</button></div><code class=\"block bg-dark-700 rounded-lg p-4 text-sm text-blue-300 font-mono break-all\" x-text=\"signature\"></code><p class=\"text-xs text-gray-500 mt-3\"><i class=\"fas fa-info-circle mr-1\"></i>Signature verification requires the secret/public key</p></div></div></div><script>\n\t\tfunction jwtParser() {\n\t\t\treturn {\n\t\t\t\ttoken: '', error: '', parsed: false,\n\t\t\t\theaderJson: '', payloadJson: '', signature: '',\n\t\t\t\texpInfo: '', expired: false,\n\t\t\t\tparse() {\n\t\t\t\t\tthis.error = ''; this.parsed = false; this.expInfo = '';\n\t\t\t\t\tconst t = this.token.trim();\n\t\t\t\t\tif (!t) return;\n\t\t\t\t\tconst parts = t.split('.');\n\t\t\t\t\tif (parts.length !== 3) { this.error = 'Invalid JWT: expected 3 parts separated by dots, got ' + parts.length; return; }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst header = JSON.parse(atob(parts[0].replace(/-/g,'+').replace(/_/g,'/')));\n\t\t\t\t\t\tthis.headerJson = JSON.stringify(header, null, 2);\n\t\t\t\t\t} catch(e) { this.error = 'Invalid header: cannot decode Base64'; return; }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst payload = JSON.parse(atob(parts[1].replace(/-/g,'+').replace(/_/g,'/')));\n\t\t\t\t\t\tthis.payloadJson = JSON.stringify(payload, null, 2);\n\t\t\t\t\t\tif (payload.exp) {\n\t\t\t\t\t\t\tconst expDate = new Date(payload.exp * 1000);\n\t\t\t\t\t\t\tthis.expired = expDate < new Date();\n\t\t\t\t\t\t\tthis.expInfo = (this.expired ? 'Expired: ' : 'Expires: ') + expDate.toLocaleString();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (payload.iat) {\n\t\t\t\t\t\t\tconst iat = new Date(payload.iat * 1000);\n\t\t\t\t\t\t\tthis.expInfo += (this.expInfo ? ' | ' : '') + 'Issued: ' + iat.toLocaleString();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) { this.error = 'Invalid payload: cannot decode Base64'; return; }\n\t\t\t\t\tthis.signature = parts[2];\n\t\t\t\t\tthis.parsed = true;\n\t\t\t\t},\n\t\t\t\tcopy(t) { if(t) { navigator.clipboard.writeText(t); usulnet.toast('Copied!','success',1500); } }\n\t\t\t}\n\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
