// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package connections

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"fmt"
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

type SSHTunnelData struct {
	ID         string
	LocalHost  string
	LocalPort  int
	RemoteHost string
	RemotePort int
	Status     string // active, stopped, error
	Type       string // local, remote, dynamic
}

type SSHTunnelsPageData struct {
	PageData   layouts.PageData
	Connection SSHConnectionData
	Tunnels    []SSHTunnelData
}

func SSHTunnels(data SSHTunnelsPageData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"space-y-6\" x-data=\"tunnelManager()\"><!-- Header --><div class=\"flex items-center justify-between\"><div class=\"flex items-center gap-4\"><a href=\"/connections/ssh\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg\"><i class=\"fas fa-arrow-left\"></i></a><div><h1 class=\"text-2xl font-display font-bold text-white\">SSH Tunnels</h1><p class=\"text-gray-400 mt-1\">Port forwarding for ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.Connection.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 35, Col: 78}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</p></div></div><div class=\"flex items-center gap-2\"><a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 templ.SafeURL
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(fmt.Sprintf("/connections/ssh/%s/terminal", data.Connection.ID)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 39, Col: 93}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\" class=\"btn-ghost\"><i class=\"fas fa-terminal mr-2\"></i>Terminal</a> <a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 templ.SafeURL
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL(fmt.Sprintf("/connections/ssh/%s/files", data.Connection.ID)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 42, Col: 90}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" class=\"btn-ghost\"><i class=\"fas fa-folder mr-2\"></i>Files</a> <button @click=\"showNewTunnelModal = true\" class=\"btn-primary\"><i class=\"fas fa-plus mr-2\"></i>New Tunnel</button></div></div><!-- Connection Info Card --><div class=\"card p-4\"><div class=\"flex items-center justify-between\"><div class=\"flex items-center gap-4\"><div class=\"w-12 h-12 rounded-lg bg-dark-700 flex items-center justify-center\"><i class=\"fas fa-server text-xl text-primary-400\"></i></div><div><h3 class=\"text-white font-medium\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(data.Connection.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 59, Col: 64}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</h3><p class=\"text-gray-400 text-sm\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(tunnelFormatSSHAddress(data.Connection.Username, data.Connection.Host, data.Connection.Port))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 60, Col: 134}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</p></div></div><div class=\"flex items-center gap-2\"><span class=\"flex items-center gap-2 text-sm text-green-400\"><span class=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></span> Connected</span></div></div></div><!-- Tunnel Types Info --><div class=\"grid grid-cols-3 gap-4\"><div class=\"card p-4\"><div class=\"flex items-center gap-3 mb-2\"><div class=\"w-8 h-8 rounded bg-blue-500/20 flex items-center justify-center\"><i class=\"fas fa-arrow-right text-blue-400 text-sm\"></i></div><h4 class=\"text-white font-medium\">Local Forward</h4></div><p class=\"text-gray-400 text-xs\">Forward local port to remote destination through SSH</p></div><div class=\"card p-4\"><div class=\"flex items-center gap-3 mb-2\"><div class=\"w-8 h-8 rounded bg-purple-500/20 flex items-center justify-center\"><i class=\"fas fa-arrow-left text-purple-400 text-sm\"></i></div><h4 class=\"text-white font-medium\">Remote Forward</h4></div><p class=\"text-gray-400 text-xs\">Forward remote port to local destination</p></div><div class=\"card p-4\"><div class=\"flex items-center gap-3 mb-2\"><div class=\"w-8 h-8 rounded bg-emerald-500/20 flex items-center justify-center\"><i class=\"fas fa-globe text-emerald-400 text-sm\"></i></div><h4 class=\"text-white font-medium\">Dynamic (SOCKS)</h4></div><p class=\"text-gray-400 text-xs\">SOCKS5 proxy through SSH tunnel</p></div></div><!-- Active Tunnels --><div class=\"card\"><div class=\"px-6 py-4 border-b border-dark-600\"><h3 class=\"text-lg font-medium text-white\">Active Tunnels</h3></div><div class=\"divide-y divide-dark-600\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(data.Tunnels) == 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "<div class=\"px-6 py-12 text-center\"><i class=\"fas fa-network-wired text-4xl text-gray-400 mb-4\"></i><p class=\"text-gray-400\">No tunnels configured</p><p class=\"text-gray-500 text-sm mt-1\">Create a tunnel to forward ports through this SSH connection</p></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			for _, tunnel := range data.Tunnels {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<div class=\"px-6 py-4 flex items-center justify-between hover:bg-dark-750\"><div class=\"flex items-center gap-4\"><div class=\"w-10 h-10 rounded-lg bg-dark-700 flex items-center justify-center\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if tunnel.Type == "local" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "<i class=\"fas fa-arrow-right text-blue-400\"></i>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else if tunnel.Type == "remote" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "<i class=\"fas fa-arrow-left text-purple-400\"></i>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "<i class=\"fas fa-globe text-emerald-400\"></i>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</div><div><div class=\"flex items-center gap-2\"><span class=\"text-white font-medium\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 string
				templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(formatHostPort(tunnel.LocalHost, tunnel.LocalPort))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 130, Col: 99}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "</span> <i class=\"fas fa-long-arrow-alt-right text-gray-500\"></i> <span class=\"text-white font-medium\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(formatHostPort(tunnel.RemoteHost, tunnel.RemotePort))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 132, Col: 101}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</span></div><p class=\"text-gray-400 text-xs mt-0.5\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if tunnel.Type == "local" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "Local port ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var10 string
					templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(intToStr(tunnel.LocalPort))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 136, Col: 50}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, " forwards to ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var11 string
					templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(formatHostPort(tunnel.RemoteHost, tunnel.RemotePort))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 136, Col: 119}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else if tunnel.Type == "remote" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "Remote port ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var12 string
					templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(intToStr(tunnel.RemotePort))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 138, Col: 52}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, " forwards to ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var13 string
					templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(formatHostPort(tunnel.LocalHost, tunnel.LocalPort))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 138, Col: 119}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "SOCKS5 proxy on port ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var14 string
					templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(intToStr(tunnel.LocalPort))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 140, Col: 60}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "</p></div></div><div class=\"flex items-center gap-3\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if tunnel.Status == "active" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "<span class=\"flex items-center gap-1.5 text-xs text-green-400\"><span class=\"w-1.5 h-1.5 rounded-full bg-green-500\"></span> Active</span> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else if tunnel.Status == "error" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "<span class=\"flex items-center gap-1.5 text-xs text-red-400\"><span class=\"w-1.5 h-1.5 rounded-full bg-red-500\"></span> Error</span> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "<span class=\"flex items-center gap-1.5 text-xs text-gray-400\"><span class=\"w-1.5 h-1.5 rounded-full bg-gray-500\"></span> Stopped</span> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "<button @click=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var15 string
				templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("toggleTunnel('%s')", tunnel.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 163, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-600 rounded-lg\" title=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var16 string
				templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(ternary(tunnel.Status == "active", "Stop", "Start"))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 165, Col: 68}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if tunnel.Status == "active" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "<i class=\"fas fa-stop\"></i>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "<i class=\"fas fa-play\"></i>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "</button> <button @click=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var17 string
				templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("deleteTunnel('%s')", tunnel.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/connections/tunnels.templ`, Line: 174, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" class=\"p-2 text-gray-400 hover:text-red-400 hover:bg-dark-600 rounded-lg\" title=\"Delete\"><i class=\"fas fa-trash\"></i></button></div></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "</div></div><!-- New Tunnel Modal --><div x-show=\"showNewTunnelModal\" x-cloak class=\"fixed inset-0 z-50 overflow-y-auto\"><div class=\"flex min-h-screen items-center justify-center p-4\"><div class=\"fixed inset-0 bg-black/60\" @click=\"showNewTunnelModal = false\"></div><div class=\"relative card w-full max-w-lg p-6\"><h3 class=\"text-lg font-semibold text-white mb-4\"><i class=\"fas fa-plus-circle text-primary-400 mr-2\"></i>New SSH Tunnel</h3><form @submit.prevent=\"createTunnel\"><!-- Tunnel Type --><div class=\"mb-4\"><label class=\"block text-sm font-medium text-gray-300 mb-2\">Tunnel Type</label><div class=\"grid grid-cols-3 gap-2\"><button type=\"button\" @click=\"tunnelType = 'local'\" :class=\"tunnelType === 'local' ? 'bg-blue-500/20 border-blue-500 text-blue-400' : 'bg-dark-700 border-dark-600 text-gray-400'\" class=\"p-3 rounded-lg border text-center hover:border-blue-500 transition-colors\"><i class=\"fas fa-arrow-right mb-1\"></i><p class=\"text-xs\">Local</p></button> <button type=\"button\" @click=\"tunnelType = 'remote'\" :class=\"tunnelType === 'remote' ? 'bg-purple-500/20 border-purple-500 text-purple-400' : 'bg-dark-700 border-dark-600 text-gray-400'\" class=\"p-3 rounded-lg border text-center hover:border-purple-500 transition-colors\"><i class=\"fas fa-arrow-left mb-1\"></i><p class=\"text-xs\">Remote</p></button> <button type=\"button\" @click=\"tunnelType = 'dynamic'\" :class=\"tunnelType === 'dynamic' ? 'bg-emerald-500/20 border-emerald-500 text-emerald-400' : 'bg-dark-700 border-dark-600 text-gray-400'\" class=\"p-3 rounded-lg border text-center hover:border-emerald-500 transition-colors\"><i class=\"fas fa-globe mb-1\"></i><p class=\"text-xs\">Dynamic</p></button></div></div><!-- Local Settings --><div class=\"grid grid-cols-2 gap-4 mb-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-1\">Local Host</label> <input type=\"text\" x-model=\"localHost\" placeholder=\"127.0.0.1\" class=\"input w-full\" :disabled=\"tunnelType === 'dynamic'\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-1\">Local Port</label> <input type=\"number\" x-model=\"localPort\" placeholder=\"8080\" class=\"input w-full\" required min=\"1\" max=\"65535\"></div></div><!-- Remote Settings (not for dynamic) --><div x-show=\"tunnelType !== 'dynamic'\" class=\"grid grid-cols-2 gap-4 mb-4\"><div><label class=\"block text-sm font-medium text-gray-300 mb-1\">Remote Host</label> <input type=\"text\" x-model=\"remoteHost\" placeholder=\"localhost\" class=\"input w-full\"></div><div><label class=\"block text-sm font-medium text-gray-300 mb-1\">Remote Port</label> <input type=\"number\" x-model=\"remotePort\" placeholder=\"80\" class=\"input w-full\" min=\"1\" max=\"65535\"></div></div><!-- Example --><div class=\"bg-dark-700 rounded-lg p-3 mb-4\"><p class=\"text-xs text-gray-400 mb-1\">Command equivalent:</p><code class=\"text-xs text-primary-400\" x-text=\"getCommandExample()\"></code></div><!-- Actions --><div class=\"flex justify-end gap-3\"><button type=\"button\" @click=\"showNewTunnelModal = false\" class=\"btn-ghost\">Cancel</button> <button type=\"submit\" class=\"btn-primary\"><i class=\"fas fa-plus mr-2\"></i>Create Tunnel</button></div></form></div></div></div></div><script>\n\t\tfunction tunnelManager() {\n\t\t\treturn {\n\t\t\t\tshowNewTunnelModal: false,\n\t\t\t\ttunnelType: 'local',\n\t\t\t\tlocalHost: '127.0.0.1',\n\t\t\t\tlocalPort: '',\n\t\t\t\tremoteHost: 'localhost',\n\t\t\t\tremotePort: '',\n\n\t\t\t\tgetCommandExample() {\n\t\t\t\t\tconst lp = this.localPort || 'LOCAL_PORT';\n\t\t\t\t\tconst lh = this.localHost || '127.0.0.1';\n\t\t\t\t\tconst rp = this.remotePort || 'REMOTE_PORT';\n\t\t\t\t\tconst rh = this.remoteHost || 'REMOTE_HOST';\n\n\t\t\t\t\tif (this.tunnelType === 'local') {\n\t\t\t\t\t\treturn `ssh -L ${lh}:${lp}:${rh}:${rp} user@host`;\n\t\t\t\t\t} else if (this.tunnelType === 'remote') {\n\t\t\t\t\t\treturn `ssh -R ${rh}:${rp}:${lh}:${lp} user@host`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn `ssh -D ${lp} user@host`;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tasync createTunnel() {\n\t\t\t\t\tconst form = new FormData();\n\t\t\t\t\tform.append('type', this.tunnelType);\n\t\t\t\t\tform.append('local_host', this.localHost);\n\t\t\t\t\tform.append('local_port', this.localPort);\n\t\t\t\t\tform.append('remote_host', this.remoteHost);\n\t\t\t\t\tform.append('remote_port', this.remotePort);\n\n\t\t\t\t\tconst connID = window.location.pathname.split('/')[3];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst resp = await fetch(`/connections/ssh/${connID}/tunnels`, {\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tbody: form,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (resp.ok) {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst data = await resp.json();\n\t\t\t\t\t\t\talert(data.error || 'Failed to create tunnel');\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\talert('Error: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tasync toggleTunnel(id) {\n\t\t\t\t\tconst connID = window.location.pathname.split('/')[3];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst resp = await fetch(`/connections/ssh/${connID}/tunnels/${id}/toggle`, {\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (resp.ok) {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\talert('Error: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tasync deleteTunnel(id) {\n\t\t\t\t\tif (!confirm('Delete this tunnel?')) return;\n\t\t\t\t\tconst connID = window.location.pathname.split('/')[3];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst resp = await fetch(`/connections/ssh/${connID}/tunnels/${id}`, {\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (resp.ok) {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\talert('Error: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func ternary(cond bool, a, b string) string {
	if cond {
		return a
	}
	return b
}

func tunnelFormatSSHAddress(username, host string, port int) string {
	return fmt.Sprintf("%s@%s:%d", username, host, port)
}

func formatHostPort(host string, port int) string {
	return fmt.Sprintf("%s:%d", host, port)
}

func intToStr(n int) string {
	return fmt.Sprintf("%d", n)
}

var _ = templruntime.GeneratedTemplate
