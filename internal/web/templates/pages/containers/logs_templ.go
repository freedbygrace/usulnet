// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package containers

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"github.com/fr4nsys/usulnet/internal/web/templates/layouts"
)

type ContainerLogsData struct {
	PageData    layouts.PageData
	ContainerID string
	Name        string
	State       string
	Tail        int
	Since       string
	Follow      bool
}

func ContainerLogs(data ContainerLogsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!-- Breadcrumb --> <nav class=\"flex items-center gap-2 text-sm text-gray-400 mb-4\"><a href=\"/containers\" class=\"hover:text-primary-400 transition-colors\">Containers</a> <i class=\"fas fa-chevron-right text-xs\"></i> <a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 templ.SafeURL
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.ContainerID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 23, Col: 61}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" class=\"hover:text-primary-400 transition-colors\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(data.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 23, Col: 124}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</a> <i class=\"fas fa-chevron-right text-xs\"></i> <span class=\"text-white\">Logs</span></nav><!-- Header --> <div class=\"flex items-center justify-between mb-6\"><div class=\"flex items-center gap-4\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 = []any{"w-10 h-10 rounded-lg flex items-center justify-center", stateIconBg(data.State)}
			templ_7745c5c3_Err = templ.RenderCSSItems(ctx, templ_7745c5c3_Buffer, templ_7745c5c3_Var5...)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<div class=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(templ.CSSClasses(templ_7745c5c3_Var5).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 1, Col: 0}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\"><i class=\"fas fa-file-alt text-lg text-gray-300\"></i></div><div><h1 class=\"text-2xl font-bold font-display text-white\">Logs</h1><p class=\"text-gray-400 text-sm\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(data.Name)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 36, Col: 49}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</p></div></div><div class=\"flex items-center gap-2\"><a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 templ.SafeURL
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.ContainerID))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 40, Col: 62}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\" class=\"px-4 py-2 bg-dark-700 hover:bg-dark-600 text-gray-300 rounded-lg transition-colors\"><i class=\"fas fa-arrow-left mr-2\"></i>Back</a> <a href=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var9 templ.SafeURL
			templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/containers/" + data.ContainerID + "/exec"))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 43, Col: 72}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "\" class=\"btn-primary\"><i class=\"fas fa-terminal mr-2\"></i>Terminal</a></div></div><!-- Log Viewer --> <div x-data=\"logViewer()\" data-container-id=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var10 string
			templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(data.ContainerID)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/pages/containers/logs.templ`, Line: 52, Col: 39}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\" class=\"bg-dark-800 rounded-xl border border-dark-600 overflow-hidden\"><!-- Controls Row 1 --><div class=\"flex flex-wrap items-center gap-4 p-4 border-b border-dark-600 bg-dark-850\"><div class=\"flex items-center gap-4 flex-wrap\"><!-- Follow Toggle --><label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" x-model=\"follow\" @change=\"toggleFollow()\" class=\"checkbox\"> <span class=\"text-sm text-gray-300\">Auto-scroll</span></label><!-- Lines filter --><select x-model=\"tail\" @change=\"reload()\" class=\"px-3 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-sm text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500/50\"><option value=\"100\">Last 100 lines</option> <option value=\"500\">Last 500 lines</option> <option value=\"1000\">Last 1000 lines</option> <option value=\"5000\">Last 5000 lines</option></select><!-- Timestamps toggle --><label class=\"flex items-center gap-2 cursor-pointer\"><input type=\"checkbox\" x-model=\"showTimestamps\" class=\"checkbox\"> <span class=\"text-sm text-gray-300\">Timestamps</span></label></div><div class=\"flex-1\"></div><div class=\"flex items-center gap-2\"><!-- Download --><button @click=\"download()\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-600 rounded-lg transition-colors\" title=\"Download logs\"><i class=\"fas fa-download\"></i></button><!-- Clear --><button @click=\"clear()\" class=\"p-2 text-gray-400 hover:text-white hover:bg-dark-600 rounded-lg transition-colors\" title=\"Clear display\"><i class=\"fas fa-trash\"></i></button></div></div><!-- Controls Row 2: Severity Filters & Search --><div class=\"flex flex-wrap items-center gap-4 px-4 py-3 border-b border-dark-700 bg-dark-800\"><!-- Severity Filters --><div class=\"flex items-center gap-1\"><span class=\"text-xs text-gray-500 mr-2\">LEVEL:</span> <button @click=\"toggleSeverity('error')\" :class=\"severityFilters.error ? 'bg-red-500/20 text-red-400 border-red-500/50' : 'bg-dark-700 text-gray-500 border-dark-600'\" class=\"px-2 py-1 text-xs rounded border transition-colors flex items-center gap-1\"><i class=\"fas fa-times-circle\"></i> <span>Error</span> <span class=\"ml-1 px-1.5 py-0.5 rounded text-[10px] bg-dark-900/50\" x-text=\"stats.error\"></span></button> <button @click=\"toggleSeverity('warn')\" :class=\"severityFilters.warn ? 'bg-yellow-500/20 text-yellow-400 border-yellow-500/50' : 'bg-dark-700 text-gray-500 border-dark-600'\" class=\"px-2 py-1 text-xs rounded border transition-colors flex items-center gap-1\"><i class=\"fas fa-exclamation-triangle\"></i> <span>Warn</span> <span class=\"ml-1 px-1.5 py-0.5 rounded text-[10px] bg-dark-900/50\" x-text=\"stats.warn\"></span></button> <button @click=\"toggleSeverity('info')\" :class=\"severityFilters.info ? 'bg-blue-500/20 text-blue-400 border-blue-500/50' : 'bg-dark-700 text-gray-500 border-dark-600'\" class=\"px-2 py-1 text-xs rounded border transition-colors flex items-center gap-1\"><i class=\"fas fa-info-circle\"></i> <span>Info</span> <span class=\"ml-1 px-1.5 py-0.5 rounded text-[10px] bg-dark-900/50\" x-text=\"stats.info\"></span></button> <button @click=\"toggleSeverity('debug')\" :class=\"severityFilters.debug ? 'bg-gray-500/20 text-gray-400 border-gray-500/50' : 'bg-dark-700 text-gray-500 border-dark-600'\" class=\"px-2 py-1 text-xs rounded border transition-colors flex items-center gap-1\"><i class=\"fas fa-bug\"></i> <span>Debug</span> <span class=\"ml-1 px-1.5 py-0.5 rounded text-[10px] bg-dark-900/50\" x-text=\"stats.debug\"></span></button> <button @click=\"toggleSeverity('other')\" :class=\"severityFilters.other ? 'bg-gray-500/20 text-gray-300 border-gray-500/50' : 'bg-dark-700 text-gray-500 border-dark-600'\" class=\"px-2 py-1 text-xs rounded border transition-colors flex items-center gap-1\"><i class=\"fas fa-file-alt\"></i> <span>Other</span> <span class=\"ml-1 px-1.5 py-0.5 rounded text-[10px] bg-dark-900/50\" x-text=\"stats.other\"></span></button></div><div class=\"flex-1\"></div><!-- Search with Regex Toggle --><div class=\"flex items-center gap-2\"><div class=\"relative\"><input type=\"search\" x-model=\"search\" :placeholder=\"useRegex ? 'Regex pattern...' : 'Search logs...'\" class=\"w-64 pl-8 pr-4 py-1.5 bg-dark-700 border border-dark-600 rounded-lg text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50\" :class=\"regexError ? 'border-red-500' : ''\"> <i class=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs\"></i></div><button @click=\"useRegex = !useRegex; regexError = null\" :class=\"useRegex ? 'bg-primary-500/20 text-primary-400' : 'bg-dark-700 text-gray-400'\" class=\"px-3 py-1.5 text-sm rounded-lg border border-dark-600 hover:border-primary-500/50 transition-colors\" title=\"Toggle regex search\"><i class=\"fas fa-asterisk mr-1\"></i>.*</button> <span x-show=\"regexError\" class=\"text-xs text-red-400\" x-text=\"regexError\"></span></div></div><!-- Log Output --><div x-ref=\"logContainer\" class=\"h-[600px] overflow-y-auto font-mono text-sm bg-dark-900 p-4\"><div x-show=\"loading\" class=\"flex items-center justify-center h-full\"><div class=\"text-center\"><i class=\"fas fa-spinner fa-spin text-3xl text-primary-400 mb-4\"></i><p class=\"text-gray-400\">Loading logs...</p></div></div><div x-show=\"!loading && lines.length === 0\" class=\"flex items-center justify-center h-full\"><div class=\"text-center\"><i class=\"fas fa-file-alt text-4xl text-gray-400 mb-4\"></i><p class=\"text-gray-400\">No logs available</p></div></div><template x-for=\"(line, index) in filteredLines\" :key=\"index\"><div class=\"py-0.5 hover:bg-dark-700/30 whitespace-pre-wrap break-all\" :class=\"getLineClass(line)\"><span x-show=\"showTimestamps\" class=\"text-gray-500 mr-3\" x-text=\"line.timestamp\"></span> <span x-html=\"highlightSearch(line.content)\"></span></div></template></div><!-- Status Bar --><div class=\"flex items-center justify-between px-4 py-2 border-t border-dark-600 bg-dark-850 text-xs text-gray-500\"><span><span x-text=\"filteredLines.length\"></span> lines <span x-show=\"search\">(filtered from <span x-text=\"lines.length\"></span>)</span></span> <span x-show=\"connected\" class=\"flex items-center gap-1.5\"><span class=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span> Live</span></div></div><script>\n\t\t\tfunction logViewer() {\n\t\t\t\treturn {\n\t\t\t\t\tlines: [],\n\t\t\t\t\tloading: true,\n\t\t\t\t\tconnected: false,\n\t\t\t\t\tfollow: true,\n\t\t\t\t\ttail: 500,\n\t\t\t\t\tshowTimestamps: false,\n\t\t\t\t\tsearch: '',\n\t\t\t\t\tuseRegex: false,\n\t\t\t\t\tregexError: null,\n\t\t\t\t\tws: null,\n\t\t\t\t\tcontainerId: '',\n\t\t\t\t\t_initialized: false,\n\t\t\t\t\t_destroyed: false,\n\t\t\t\t\t_reconnectAttempts: 0,\n\t\t\t\t\t_maxReconnectAttempts: 5,\n\t\t\t\t\tseverityFilters: {\n\t\t\t\t\t\terror: true,\n\t\t\t\t\t\twarn: true,\n\t\t\t\t\t\tinfo: true,\n\t\t\t\t\t\tdebug: true,\n\t\t\t\t\t\tother: true\n\t\t\t\t\t},\n\t\t\t\t\tstats: {\n\t\t\t\t\t\terror: 0,\n\t\t\t\t\t\twarn: 0,\n\t\t\t\t\t\tinfo: 0,\n\t\t\t\t\t\tdebug: 0,\n\t\t\t\t\t\tother: 0\n\t\t\t\t\t},\n\n\t\t\t\t\tinit() {\n\t\t\t\t\t\tif (this._initialized) return;\n\t\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\t\tthis.containerId = this.$el.dataset.containerId;\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t},\n\n\t\t\t\t\tdestroy() {\n\t\t\t\t\t\tthis._destroyed = true;\n\t\t\t\t\t\tif (this.ws) {\n\t\t\t\t\t\t\tthis.ws.onclose = null;\n\t\t\t\t\t\t\tthis.ws.close();\n\t\t\t\t\t\t\tthis.ws = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tgetSeverity(line) {\n\t\t\t\t\t\tif (line.stream === 'stderr') return 'error';\n\t\t\t\t\t\tconst content = line.content.toLowerCase();\n\t\t\t\t\t\t// Check for common log level patterns\n\t\t\t\t\t\tif (/\\berror\\b|\\bfatal\\b|\\bcritical\\b|\\bfailure\\b|\\bfailed\\b|exception/i.test(content)) return 'error';\n\t\t\t\t\t\tif (/\\bwarn(ing)?\\b|\\balert\\b/i.test(content)) return 'warn';\n\t\t\t\t\t\tif (/\\binfo\\b|\\bnotice\\b/i.test(content)) return 'info';\n\t\t\t\t\t\tif (/\\bdebug\\b|\\btrace\\b|\\bverbose\\b/i.test(content)) return 'debug';\n\t\t\t\t\t\t// Check for JSON log formats\n\t\t\t\t\t\tif (/\"level\"\\s*:\\s*\"error\"/i.test(content) || /\"severity\"\\s*:\\s*\"error\"/i.test(content)) return 'error';\n\t\t\t\t\t\tif (/\"level\"\\s*:\\s*\"warn\"/i.test(content) || /\"severity\"\\s*:\\s*\"warn\"/i.test(content)) return 'warn';\n\t\t\t\t\t\tif (/\"level\"\\s*:\\s*\"info\"/i.test(content) || /\"severity\"\\s*:\\s*\"info\"/i.test(content)) return 'info';\n\t\t\t\t\t\tif (/\"level\"\\s*:\\s*\"debug\"/i.test(content) || /\"severity\"\\s*:\\s*\"debug\"/i.test(content)) return 'debug';\n\t\t\t\t\t\treturn 'other';\n\t\t\t\t\t},\n\n\t\t\t\t\ttoggleSeverity(level) {\n\t\t\t\t\t\tthis.severityFilters[level] = !this.severityFilters[level];\n\t\t\t\t\t},\n\n\t\t\t\t\tupdateStats() {\n\t\t\t\t\t\tthis.stats = { error: 0, warn: 0, info: 0, debug: 0, other: 0 };\n\t\t\t\t\t\tfor (const line of this.lines) {\n\t\t\t\t\t\t\tconst severity = this.getSeverity(line);\n\t\t\t\t\t\t\tthis.stats[severity]++;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tget filteredLines() {\n\t\t\t\t\t\tlet result = this.lines;\n\n\t\t\t\t\t\t// Apply severity filter\n\t\t\t\t\t\tresult = result.filter(line => {\n\t\t\t\t\t\t\tconst severity = this.getSeverity(line);\n\t\t\t\t\t\t\treturn this.severityFilters[severity];\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Apply search filter\n\t\t\t\t\t\tif (this.search) {\n\t\t\t\t\t\t\tif (this.useRegex) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst regex = new RegExp(this.search, 'i');\n\t\t\t\t\t\t\t\t\tthis.regexError = null;\n\t\t\t\t\t\t\t\t\tresult = result.filter(l => regex.test(l.content));\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tthis.regexError = 'Invalid regex';\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst term = this.search.toLowerCase();\n\t\t\t\t\t\t\t\tresult = result.filter(l => l.content.toLowerCase().includes(term));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\n\t\t\t\t\tconnect() {\n\t\t\t\t\t\tconst protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n\t\t\t\t\t\tconst url = `${protocol}//${window.location.host}/ws/logs/${this.containerId}?tail=${this.tail}&follow=${this.follow}`;\n\n\t\t\t\t\t\tthis.ws = new WebSocket(url);\n\n\t\t\t\t\t\tthis.ws.onopen = () => {\n\t\t\t\t\t\t\tthis._reconnectAttempts = 0;\n\t\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.ws.onmessage = (event) => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst msg = JSON.parse(event.data);\n\t\t\t\t\t\t\t\tif (msg.type === 'log') {\n\t\t\t\t\t\t\t\t\tconst line = this.parseLine(msg.data || '');\n\t\t\t\t\t\t\t\t\tif (msg.stream === 'stderr') {\n\t\t\t\t\t\t\t\t\t\tline.stream = 'stderr';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (msg.timestamp) {\n\t\t\t\t\t\t\t\t\t\tline.timestamp = new Date(msg.timestamp).toLocaleTimeString();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.lines.push(line);\n\t\t\t\t\t\t\t\t\tthis.updateStats();\n\t\t\t\t\t\t\t\t} else if (msg.type === 'error') {\n\t\t\t\t\t\t\t\t\tthis.lines.push({\n\t\t\t\t\t\t\t\t\t\ttimestamp: new Date().toLocaleTimeString(),\n\t\t\t\t\t\t\t\t\t\tcontent: '[ERROR] ' + (msg.data || msg.message || ''),\n\t\t\t\t\t\t\t\t\t\tstream: 'stderr'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.updateStats();\n\t\t\t\t\t\t\t\t} else if (msg.type === 'connected') {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else if (msg.type === 'disconnected') {\n\t\t\t\t\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tconst line = this.parseLine(event.data);\n\t\t\t\t\t\t\t\tthis.lines.push(line);\n\t\t\t\t\t\t\t\tthis.updateStats();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.lines.length > 10000) {\n\t\t\t\t\t\t\t\tthis.lines = this.lines.slice(-5000);\n\t\t\t\t\t\t\t\tthis.updateStats();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.follow) {\n\t\t\t\t\t\t\t\tthis.$nextTick(() => this.scrollToBottom());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.ws.onclose = (e) => {\n\t\t\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t\t\tif (this._destroyed) return;\n\t\t\t\t\t\t\tif (e.code === 1000 || e.code === 1001) return;\n\t\t\t\t\t\t\tif (this._reconnectAttempts >= this._maxReconnectAttempts) return;\n\t\t\t\t\t\t\tconst delay = Math.min(30000, 1000 * Math.pow(2, this._reconnectAttempts));\n\t\t\t\t\t\t\tthis._reconnectAttempts++;\n\t\t\t\t\t\t\tsetTimeout(() => this.connect(), delay);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.ws.onerror = () => {\n\t\t\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\n\t\t\t\t\tparseLine(data) {\n\t\t\t\t\t\tconst match = data.match(/^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d+Z)\\s*(.*)/);\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttimestamp: new Date(match[1]).toLocaleTimeString(),\n\t\t\t\t\t\t\t\tcontent: match[2],\n\t\t\t\t\t\t\t\tstream: 'stdout'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttimestamp: new Date().toLocaleTimeString(),\n\t\t\t\t\t\t\tcontent: data,\n\t\t\t\t\t\t\tstream: 'stdout'\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\n\t\t\t\t\tgetLineClass(line) {\n\t\t\t\t\t\tconst severity = this.getSeverity(line);\n\t\t\t\t\t\tswitch (severity) {\n\t\t\t\t\t\t\tcase 'error': return 'text-red-400';\n\t\t\t\t\t\t\tcase 'warn': return 'text-yellow-400';\n\t\t\t\t\t\t\tcase 'info': return 'text-blue-400';\n\t\t\t\t\t\t\tcase 'debug': return 'text-gray-500';\n\t\t\t\t\t\t\tdefault: return 'text-gray-300';\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\thighlightSearch(text) {\n\t\t\t\t\t\tif (!this.search) return this.escapeHtml(text);\n\t\t\t\t\t\tconst escaped = this.escapeHtml(text);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet regex;\n\t\t\t\t\t\t\tif (this.useRegex) {\n\t\t\t\t\t\t\t\tregex = new RegExp(`(${this.search})`, 'gi');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tregex = new RegExp(`(${this.escapeRegex(this.search)})`, 'gi');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn escaped.replace(regex, '<mark class=\"bg-yellow-500/30 text-yellow-200 px-0.5 rounded\">$1</mark>');\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treturn escaped;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tescapeHtml(text) {\n\t\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\t\tdiv.textContent = text;\n\t\t\t\t\t\treturn div.innerHTML;\n\t\t\t\t\t},\n\n\t\t\t\t\tescapeRegex(text) {\n\t\t\t\t\t\treturn text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\t\t\t\t\t},\n\n\t\t\t\t\tscrollToBottom() {\n\t\t\t\t\t\tconst container = this.$refs.logContainer;\n\t\t\t\t\t\tif (container) {\n\t\t\t\t\t\t\tcontainer.scrollTop = container.scrollHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\ttoggleFollow() {\n\t\t\t\t\t\tif (this.follow) this.scrollToBottom();\n\t\t\t\t\t},\n\n\t\t\t\t\treload() {\n\t\t\t\t\t\tthis.lines = [];\n\t\t\t\t\t\tthis.stats = { error: 0, warn: 0, info: 0, debug: 0, other: 0 };\n\t\t\t\t\t\tthis.loading = true;\n\t\t\t\t\t\tif (this.ws) this.ws.close();\n\t\t\t\t\t\tthis.connect();\n\t\t\t\t\t},\n\n\t\t\t\t\tclear() {\n\t\t\t\t\t\tthis.lines = [];\n\t\t\t\t\t\tthis.stats = { error: 0, warn: 0, info: 0, debug: 0, other: 0 };\n\t\t\t\t\t},\n\n\t\t\t\t\tdownload() {\n\t\t\t\t\t\tconst content = this.filteredLines.map(l => {\n\t\t\t\t\t\t\tif (this.showTimestamps) return `${l.timestamp} ${l.content}`;\n\t\t\t\t\t\t\treturn l.content;\n\t\t\t\t\t\t}).join('\\n');\n\n\t\t\t\t\t\tconst blob = new Blob([content], { type: 'text/plain' });\n\t\t\t\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\t\t\t\tconst a = document.createElement('a');\n\t\t\t\t\t\ta.href = url;\n\t\t\t\t\t\ta.download = `${this.containerId.slice(0, 12)}-logs.txt`;\n\t\t\t\t\t\ta.click();\n\t\t\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Base(data.PageData).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
